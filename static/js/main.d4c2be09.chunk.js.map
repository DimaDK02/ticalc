{"version":3,"sources":["logo.png","helpers/ErrorBoundary/error_smile.png","helpers/BackButton.jsx","helpers/PanelHeader.jsx","SweetSelect/SweetSelect.jsx","Indicators/indicators.jsx","helpers/helpers.js","helpers/production_utils.js","_mocks_/modifications.js","_mocks_/calculation_results.js","data/models.js","data/oldnesses.js","helpers/NetworkErrorAlert.jsx","Home/Home.jsx","helpers/NameInput/NameInput.jsx","helpers/PhoneInput.jsx","SendRequestView/SendRequestForm.jsx","SendRequestView/SendRequestView.jsx","StartView/StartView.jsx","helpers/ErrorBoundary/ErrorBoundary.jsx","ThankYouView/ThankYouView.jsx","App.jsx","sw.js","index.jsx"],"names":["module","exports","__webpack_require__","p","BackButton","platform","IOS","react_default","a","createElement","chevron_back_default","back_default","PanelHeader","_ref","panelHeaderProps","onBackButtonClick","text","showBackButton","vkPanelHeaderProps","left","vkui","onClick","helpers_BackButton","undefined","normalizeSearchValue","normalizedText","shouldLowerCase","shouldTrimBoth","trim","trimLeft","toLowerCase","defaultProps","SweetSelect","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","notFoundComponent","style","textAlign","state","searchText","setState","_this2","_this$props","panelId","id","backClickHandler","header","onSelect","noShadow","onChange","value","onSearchChange","maxLength","items","length","map","item","key","normalizedSearchText","filter","_ref2","includes","React","Component","MoneyIndicator","additionalClassesAsStr","Indicator","concat","SummaryMoneyIndicator","_ref3","className","_isSafari","getPrice","string","Number","parseInt","getName","convertResults","results","converted","works","materials","forEach","row","material","name","MATERIAL_NAME","price","MATERIAL_PRICE","convertMaterial","push","work","SERVICE_NAME","SERVICE_PRICE","convertWork","messageTypeIs","e","type","getInfoFromVKConnect","eventName","Promise","resolve","reject","connect","subscribe","subscriber","response","detail","unsubscribe","data","send","convertModifications","modifications","entries","slicedToArray","doPostRequest","url","params","requestParams","URLSearchParams","_ref4","parameter","append","axios","post","sleep","seconds","setTimeout","isSafari","browser","UAParser","getBrowser","isProduction","Boolean","process","noscriptMetrikaTag","reachGoal","window","yaCounter50376901","console","warn","_mocks_modifications","67223","67271","67272","67273","calculation_results","models","CURRENT_YEAR","Date","getFullYear","convertOldnessYearToReleaseYear","year","oldnesses","NetworkErrorAlert","actions","title","action","onRetry","onCancel","actionsLayout","cancel_default","color","margin","defaultState","objectSpread","calculationResults","status","popout","model","modification","oldness","loadModifications","_callee6","modelId","regenerator_default","wrap","_context6","prev","next","ID","abrupt","sent","mockModifications","stop","loadResults","_callee7","_context7","SECTION","TIME","AUTO","mockCalculationResults","Home","ctaText","productionModels","productionOldnesses","headerText","onCtaClick","ctaButton","stretched","size","ctaComponent","getPanelHeader","onBack","resetAll","onModelSelect","asyncToGenerator","mark","_callee","_context","showSpinner","resetModification","setModifications","removeAnyPopout","changePanelAndPushHistoryState","setSelectValueAndTryToCalculateResults","t0","showNetworkErrorAlert","_x5","apply","arguments","onModificationSelect","_callee2","_context2","getSelectedOldnessId","_x6","goBack","changePanel","homePanelId","history","back","viewId","activePanel","onpopstate","onPopHistoryState","replaceState","_this$state","basePopHistoryStateHandler","input","hash","location","viewPopStateHandler","_this3","_this4","getModelSelectIndicator","getSelectedModelId","getModificationSelectIndicator","getOldnessSelectIndicator","anySelected","level","before","delete_default","getSelectIndicatorList","getSummaryValue","thing","reduce","accumulator","currentValue","resultsStatus","getResultWorkGroup","getResultMaterialGroup","getResultSummaryGroup","defineProperty","convertFromSweetSelectToHomeItemsFormat","tryToCalculateResults","getCalculationResultGroups","Error","getSelectedModificationId","setCalculationResults","_this5","calculateResults","allSelected","pushState","split","retryCallback","_this6","helpers_NetworkErrorAlert","_this7","_this$state3","getCalculationSelectGroup","getCalculationResults","src_SweetSelect_SweetSelect","NameInput","_onChange","newValue","replace","placeholder","target","getPlainNumberredValue","getPlainNumberredValueWithPlus","format","localString","AsYouType","requestedPhone","PhoneInput","changeValue","shouldRequestPhone","onPhoneRequest","phoneNumber","phone_number","numbers","startsWith","valueIsNice","formattedValue","_this$props2","phone","phoneNotValid","SendRequestForm","initialName","sendRequest","removePlus","formIsValid","_this$state2","NameInput_NameInput","top","helpers_PhoneInput","bottom","validateAndShowErrorsAndSendForm","getInput","recaptchaToken","_getAllInput","_getCalculationResult","JSON","stringify","get","recaptcha_token","SendRequestView","onSentRequest","ok","error","grecaptcha","ready","execute","then","onClose","open","_x4","username","SendRequestView_SendRequestForm","StartView","onGoHome","greeting","src","logo","alt","getGreeting","ErrorBoundary","errorInfo","Raven","captureException","extra","children","errorSmile","more_horizontal_default","href","rel","ThankYouView","onGoToPublic","multiline","component","marginTop","getUserName","first_name","App","goBackTo","changeView","showStartView","isOpenedAppFirstTime","startView","activeView","setGlobalHistoryStateHandler","setOnPopStateEventHandler","localStorage","getItem","setItem","String","VKConnect","setUserName","slice","convertHashLocationToId","changeViewAndPushHistoryItem","helpers_ErrorBoundary_ErrorBoundary","src_StartView_StartView","goHome","src_Home_Home","goToSendRequest","SendRequestView_SendRequestView","goToThankYouView","src_ThankYouView_ThankYouView","hostname","match","config","install","d","w","c","Ya","Metrika2","clickmap","trackLinks","accurateTrackBounce","webvisor","n","getElementsByTagName","s","f","parentNode","insertBefore","async","opera","addEventListener","document","body","innerHTML","root","getElementById","ReactDOM","render","react_hot_loader","navigator","serviceWorker","registration","unregister"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAA,g6FCWeG,MANf,WAEE,OADeC,uBACAC,MAAYC,EAAAC,EAAAC,cAACC,EAAAF,EAAD,MACpBD,EAAAC,EAAAC,cAACE,EAAAH,EAAD,OCHM,SAASI,EAATC,GAKZ,IAJDC,EAICD,EAJDC,iBACAC,EAGCF,EAHDE,kBACAC,EAECH,EAFDG,KACAC,EACCJ,EADDI,eAEMC,EAAqBJ,EAQ3B,OANEI,EAAmBC,KADjBF,EAEAV,EAAAC,EAAAC,cAACW,EAAA,aAAD,CAAcC,QAASN,GACrBR,EAAAC,EAAAC,cAACa,EAAD,YAGyBC,EACxBhB,EAAAC,EAAAC,cAACW,EAAA,YAAkBF,EAAqBF,GCdjD,SAASQ,EAAqBR,EAA9BH,GAAyE,IACnEY,EADgCC,EAAmCb,EAAnCa,gBAKpC,OAHoBD,EAFmDZ,EAAlBc,eAEhBX,EAAKY,OACpBZ,EAAKa,WACvBH,IAAiBD,EAAiBA,EAAeK,eAC9CL,EDoBTb,EAAYmB,aAAe,CACzBjB,iBAAkB,GAClBG,gBAAgB,OCgEHe,cA/Db,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAPRQ,kBACElC,EAAAC,EAAAC,cAACW,EAAA,IAAD,CAAKsB,MAAO,CAAEC,UAAW,WACvBpC,EAAAC,EAAAC,cAAA,qEAMFyB,EAAKU,MAAQ,CAAEC,WAAY,IAFVX,8EAKJlB,GACb,IAAMS,EAAiBD,EAAqBR,EAAM,CAChDU,iBAAiB,IAEnBW,KAAKS,SAAS,CAAED,WAAYpB,qCAkBrB,IAAAsB,EAAAV,KACCQ,EAAeR,KAAKO,MAApBC,WADDG,EAEqDX,KAAKJ,MAArDgB,EAFLD,EAECE,GAAaC,EAFdH,EAEcG,iBAAkBC,EAFhCJ,EAEgCI,OAAQC,EAFxCL,EAEwCK,SAC/C,OACE9C,EAAAC,EAAAC,cAACW,EAAA,MAAD,CAAO8B,GAAID,GACT1C,EAAAC,EAAAC,cAACG,EAAD,CACEG,kBAAmB,kBAAMoC,KACzBnC,KAAMoC,EACNtC,iBAAkB,CAAEwC,UAAU,KAEhC/C,EAAAC,EAAAC,cAACW,EAAA,OAAD,CACEmC,SAAU,SAACC,GAAD,OAAWT,EAAKU,eAAeD,IACzCA,MAAOX,EACPa,UAAW,KAEZrB,KAAKsB,MAAMC,OAAS,GACnBrD,EAAAC,EAAAC,cAACW,EAAA,KAAD,KACGiB,KAAKsB,MAAME,IAAI,SAACC,GAAD,OACdvD,EAAAC,EAAAC,cAACW,EAAA,KAAD,CACE2C,IAAKD,EAAKZ,GACV7B,QAAS,WACP8B,IACAE,EAASS,KAGVA,EAAKN,WAKZnB,KAAKsB,MAAMC,QAAUvB,KAAKI,iDA7CtB,IACFI,EAAeR,KAAKO,MAApBC,WACAc,EAAUtB,KAAKJ,MAAf0B,MACFK,EAAuBxC,EAAqBqB,EAAY,CAC5DnB,iBAAiB,EACjBC,gBAAgB,IAElB,OAAOgC,EAAMM,OAAO,SAAAC,GAAA,OAClB1C,EADkB0C,EAAGV,MACO,CAC1B9B,iBAAiB,EACjBC,gBAAgB,IACfwC,SAASH,YA3CQI,IAAMC,iBCRhC,SAASC,EAATzD,GAAiE,IAAvCG,EAAuCH,EAAvCG,KAAMwC,EAAiC3C,EAAjC2C,MAAOe,EAA0B1D,EAA1B0D,uBACrC,OACEhE,EAAAC,EAAAC,cAAC+D,EAAD,CACExD,KAAMA,EACNwC,MAAK,GAAAiB,OAAKjB,EAAL,uBACLe,uBAAsB,SAAAE,OAAWF,GAA0B,MAejE,SAASG,EAATR,GAAgD,IAAflD,EAAekD,EAAflD,KAAMwC,EAASU,EAATV,MACrC,OACEjD,EAAAC,EAAAC,cAAC6D,EAAD,CACEtD,KAAMA,EACNwC,MAAOA,EACPe,uBAAuB,YAU7B,SAASC,EAATG,GAAqE,IAAhD3D,EAAgD2D,EAAhD3D,KAAMwC,EAA0CmB,EAA1CnB,MAAOnC,EAAmCsD,EAAnCtD,QAASkD,EAA0BI,EAA1BJ,uBACzC,OACEhE,EAAAC,EAAAC,cAACW,EAAA,KAAD,CAAMC,QAASA,GAAY,kBAAMA,MAC/Bd,EAAAC,EAAAC,cAAA,OAAKmE,UAAS,aAAAH,OAAeF,GAA0B,KACrDhE,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,gBACbrE,EAAAC,EAAAC,cAAA,YAAOO,IAETT,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,iBACbrE,EAAAC,EAAAC,cAAA,QAAMmE,UAAU,SAASpB,MA3BnCc,EAAevC,aAAe,CAC5BwC,uBAAwB,IAwC1BC,EAAUzC,aAAe,CACvBV,QAAS,aACTkD,uBAAwB,QCmBtBM,4CA/EJ,SAASC,EAASC,GAChB,OAAOC,OAAOC,SAASF,EAAQ,KAAO,EAGxC,SAASG,EAAQH,GACf,MAAkB,QAAXA,EAAmB,GAAKA,EAiBjC,SAASI,EAAeC,GACtB,IAAMC,EAAY,CAAEC,MAAO,GAAIC,UAAW,IAO1C,OANAH,EAAQI,QAAQ,SAACC,GACf,IAAMC,EAjBV,SAAyBD,GACvB,MAAO,CACLE,KAAMT,EAAQO,EAAIG,eAClBC,MAAOf,EAASW,EAAIK,iBAcHC,CAAgBN,GAC7BC,EAASC,MAAMN,EAAUE,UAAUS,KAAKN,GAC5C,IAAMO,EAZV,SAAqBR,GACnB,MAAO,CACLE,KAAMT,EAAQO,EAAIS,cAClBL,MAAOf,EAASW,EAAIU,gBASPC,CAAYX,GACrBQ,EAAKN,MAAMN,EAAUC,MAAMU,KAAKC,KAE/BZ,EAGT,SAASgB,EAAcC,EAAGC,GACxB,OAAOD,EAAEC,OAASA,EAGpB,SAASC,EAAqBC,GAC5B,OAAO,IAAIC,QAAQ,SAACC,EAASC,GAW3BC,IAAQC,UAVW,SAAbC,EAAcT,GAClB,IAAMU,EAAWV,EAAEW,OACfZ,EAAcW,EAAD,GAAAvC,OAAcgC,EAAd,YACfI,IAAQK,YAAYH,GACpBJ,EAAQK,EAASG,OACRd,EAAcW,EAAD,GAAAvC,OAAcgC,EAAd,aACtBI,IAAQK,YAAYH,GACpBH,EAAOI,EAASG,SAIpBN,IAAQO,KAAKX,EAAW,MAQ5B,SAASY,EAAqBC,GAC5B,OAAOnF,OAAOoF,QAAQD,GAAezD,IAAI,SAAAhD,GAAA,IAAAqD,EAAA/B,OAAAqF,EAAA,EAAArF,CAAAtB,EAAA,GAAEqC,EAAFgB,EAAA,GAAMV,EAANU,EAAA,SAAkB,CACzDhB,GAAI+B,SAAS/B,EAAI,IACjBM,WAIJ,SAASiE,EAAcC,EAAKC,GAC1B,IAAMC,EAAgB,IAAIC,gBAI1B,OAHA1F,OAAOoF,QAAQI,GAAQnC,QAAQ,SAAAb,GAAwB,IAAAmD,EAAA3F,OAAAqF,EAAA,EAAArF,CAAAwC,EAAA,GAAtBoD,EAAsBD,EAAA,GAAXtE,EAAWsE,EAAA,GACrDF,EAAcI,OAAOD,EAAWvE,KAE3ByE,IAAMC,KAAKR,EAAKE,GAGzB,SAASO,EAAMC,GACb,OAAO,IAAI1B,QAAQ,SAACC,GAClB0B,WAAW1B,EAAmB,IAAVyB,KAMxB,SAASE,IACP,GAAyB,qBAAdzD,EAA2B,CACpC,IACc0D,GADG,IAAIC,KACcC,aAA3B9C,KACRd,EAAY0D,EAAQzG,cAAcqC,SAAS,UAE7C,OAAOU,uBCxFH6D,EAAeC,QAAQ1D,SADC2D,IAC2B,KAEnDC,EAAkB,4JAgExB,SAASC,EAAUnD,GACjB,GAAK+C,EACL,IAEEK,OAAOC,kBAAkBF,UAAUnD,GACnC,MAAOW,GAEP2C,QAAQC,KAAR,uBAAAzE,OACyBkB,EADzB,gDC5EW,IAAAwD,GAAA,CACbC,MAAO,4EACPC,MAAO,0IACPC,MAAO,iGACPC,MAAO,sHCJMC,GAAA,CACb,CACEtD,aAAc,+OACdC,cAAe,MACfP,cAAe,2FACfE,eAAgB,QAElB,CACEI,aAAc,2PACdC,cAAe,MACfP,cAAe,wFACfE,eAAgB,OAElB,CACEI,aAAc,8KACdC,cAAe,MACfP,cAAe,yIACfE,eAAgB,MAElB,CACEI,aAAc,+IACdC,cAAe,MACfP,cAAe,8FACfE,eAAgB,OAElB,CACEI,aAAc,oLACdC,cAAe,MACfP,cAAe,yIACfE,eAAgB,OAElB,CACEI,aAAc,6GACdC,cAAe,MACfP,cAAe,MACfE,eAAgB,OAElB,CACEI,aACE,0bACFC,cAAe,OACfP,cAAe,MACfE,eAAgB,QC1CL2D,GAAA,CACb,CAAEvG,GAAI,GAAIM,MAAO,8BACjB,CAAEN,GAAI,GAAIM,MAAO,4BACjB,CAAEN,GAAI,GAAIM,MAAO,sBACjB,CAAEN,GAAI,GAAIM,MAAO,uBACjB,CAAEN,GAAI,GAAIM,MAAO,sBACjB,CAAEN,GAAI,GAAIM,MAAO,wBACjB,CAAEN,GAAI,GAAIM,MAAO,wBACjB,CAAEN,GAAI,GAAIM,MAAO,oBACjB,CAAEN,GAAI,GAAIM,MAAO,0BACjB,CAAEN,GAAI,GAAIM,MAAO,4BACjB,CAAEN,GAAI,GAAIM,MAAO,uBACjB,CAAEN,GAAI,GAAIM,MAAO,yBACjB,CAAEN,GAAI,GAAIM,MAAO,qBACjB,CAAEN,GAAI,GAAIM,MAAO,uBACjB,CAAEN,GAAI,GAAIM,MAAO,yBACjB,CAAEN,GAAI,GAAIM,MAAO,qBACjB,CAAEN,GAAI,GAAIM,MAAO,uBACjB,CAAEN,GAAI,GAAIM,MAAO,yBACjB,CAAEN,GAAI,GAAIM,MAAO,yBCnBbkG,IAAe,IAAIC,MAAOC,cAEhC,SAASC,GAAgCC,GAEvC,SAAArF,OADaiF,GAAeI,EAC5B,kEAGa,IAAAC,GAAA,CACb,CAAE7G,GAAI,EAAGM,MAAK,yCAAAiB,OAAkBoF,GAAgC,KAChE,CAAE3G,GAAI,EAAGM,MAAK,yCAAAiB,OAAkBoF,GAAgC,KAChE,CAAE3G,GAAI,EAAGM,MAAK,yCAAAiB,OAAkBoF,GAAgC,KAChE,CAAE3G,GAAI,EAAGM,MAAK,yCAAAiB,OAAkBoF,GAAgC,KAChE,CAAE3G,GAAI,EAAGM,MAAK,yCAAAiB,OAAkBoF,GAAgC,KAChE,CAAE3G,GAAI,EAAGM,MAAK,yCAAAiB,OAAkBoF,GAAgC,KAChE,CAAE3G,GAAI,EAAGM,MAAK,0CAAAiB,OAAmBoF,GAAgC,KACjE,CAAE3G,GAAI,EAAGM,MAAK,0CAAAiB,OAAmBoF,GAAgC,KACjE,CAAE3G,GAAI,EAAGM,MAAK,0CAAAiB,OAAmBoF,GAAgC,KACjE,CAAE3G,GAAI,GAAIM,MAAK,0CAAAiB,OAAmBoF,GAAgC,2BCiBrDG,OA7Bf,SAAAnJ,GAAkD,IAC1CoJ,EAAU,CACd,CACEC,MAAO,2GACPC,OAJ4CtJ,EAArBuJ,SAMzB,CACEF,MAAO,uCACPC,OAR4CtJ,EAAZwJ,SAShC3H,MAAO,WAGX,OACEnC,EAAAC,EAAAC,cAACW,EAAA,MAAD,CAAO6I,QAASA,EAASK,cAAc,YACrC/J,EAAAC,EAAAC,cAAC8J,GAAA/J,EAAD,CAAckC,MAAO,CAAE8H,MAAO,MAAOC,OAAQ,YAC7ClK,EAAAC,EAAAC,cAAA,mYAIAF,EAAAC,EAAAC,cAAA,8LCmBN,IAR+BO,GAQzB0J,GAAYvI,OAAAwI,EAAA,EAAAxI,CAAA,CAChByI,mBAAoB,CAClBC,OAAQ,cACRvF,MAAO,GACPC,UAAW,IAEbuF,OAAQ,KACRxD,cAAe,IAdR,CACLyD,MAAO,CAAE7H,GAAI,EAAGlC,KAFWA,GAgBJ,8CAbvBgK,aAAc,CAAE9H,GAAI,EAAGlC,SACvBiK,QAAS,CAAE/H,GAAI,EAAGlC,WAelB4B,GAAQ8H,YAqCGQ,mFAAf,SAAAC,EAAiCC,GAAjC,OAAAC,EAAA7K,EAAA8K,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACM/C,EADN,CAAA6C,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAEkBhE,EAAa,kBAAoB,CAC7CiE,GAAIN,IAHV,cAAAG,EAAAI,OAAA,SAAAJ,EAAAK,KAIQzE,MAJR,cAAAoE,EAAAE,KAAA,EAKQtD,EAAM,IALd,cAAAoD,EAAAI,OAAA,SAMSE,IANT,wBAAAN,EAAAO,SAAAX,sCAaeY,uFAAf,SAAAC,EAA2BjB,EAAOC,EAAcC,GAAhD,OAAAI,EAAA7K,EAAA8K,KAAA,SAAAW,GAAA,cAAAA,EAAAT,KAAAS,EAAAR,MAAA,WACM/C,EADN,CAAAuD,EAAAR,KAAA,eAAAQ,EAAAR,KAAA,EAEkBhE,EAAa,eAAiB,CAC1CyE,QAASnB,EACToB,KAAMlB,EACNmB,KAAMpB,IALZ,cAAAiB,EAAAN,OAAA,SAAAM,EAAAL,KAMQzE,MANR,cAAA8E,EAAAR,KAAA,EAOQtD,EAAM,IAPd,cAAA8D,EAAAN,OAAA,SAQSU,IART,wBAAAJ,EAAAH,SAAAE,iCAWMM,eA4CJ,SAAAA,EAAYrK,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiK,IACjBpK,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmK,GAAA9J,KAAAH,KAAMJ,KAjCRsK,QAgCmB,2hBAAArK,EA9BnBuH,OAAS+C,GA8BUtK,EA5BnB6H,UAAY0C,GA4BOvK,EA1BnBwK,WAAa,yFA0BMxK,EAnBnByK,WAAa,WAAM,IACTA,EAAezK,EAAKD,MAApB0K,WAxEV7D,EAAU,qBA0ER6D,KAgBiBzK,EAbnB0K,UACErM,EAAAC,EAAAC,cAACW,EAAA,OAAD,CAAQyL,WAAS,EAACC,KAAK,KAAKzL,QAASa,EAAKyK,YAA1C,+FAYiBzK,EAPnB6K,aACExM,EAAAC,EAAAC,cAACW,EAAA,IAAD,KACEb,EAAAC,EAAAC,cAAA,SAAIyB,EAAKqK,SACRrK,EAAK0K,WAIS1K,EAiCnB8K,eAAiB,WAAM,IAAAhK,EACcd,EAAKD,MAAhCgL,EADajK,EACbiK,OAAQhM,EADK+B,EACL/B,eAChB,OACEV,EAAAC,EAAAC,cAACG,EAAD,CACEI,KAAMkB,EAAKwK,WACX3L,kBAAmB,kBAAMkM,KACzBhM,eAAgBA,KAvCHiB,EAmQnBgL,SAAW,WAAM,IACPpC,EAAW5I,EAAKU,MAAhBkI,OACR5I,EAAKY,SAALX,OAAAwI,EAAA,EAAAxI,CAAA,GACKuI,GADL,CAEEI,aAvQe5I,EA4TnBiL,cA5TmB,eAAAtM,EAAAsB,OAAAiL,EAAA,EAAAjL,CAAAkJ,EAAA7K,EAAA6M,KA4TH,SAAAC,EAAOvC,GAAP,OAAAM,EAAA7K,EAAA8K,KAAA,SAAAiC,GAAA,cAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,cACdvJ,EAAKsL,cAnaP1E,EAAU,kBAqaR5G,EAAKuL,oBAHSF,EAAA/B,KAAA,EAAA+B,EAAA9B,KAAA,EAKNvJ,EAAKwL,iBAAiB3C,EAAM7H,IALtB,cAAAqK,EAAA9B,KAAA,EAMNtD,EAAM,KANA,OAOZjG,EAAKyL,kBACLzL,EAAK0L,+BAA+B,sBACpC1L,EAAK2L,uCAAuC,QAAS9C,GATzCwC,EAAA9B,KAAA,iBAAA8B,EAAA/B,KAAA,GAAA+B,EAAAO,GAAAP,EAAA,SAWZrL,EAAK6L,sBAAsB,kBAAM7L,EAAKiL,cAAcpC,KAXxC,yBAAAwC,EAAAzB,SAAAwB,EAAA,kBA5TG,gBAAAU,GAAA,OAAAnN,EAAAoN,MAAA5L,KAAA6L,YAAA,GAAAhM,EA2UnBiM,qBA3UmB,eAAAjK,EAAA/B,OAAAiL,EAAA,EAAAjL,CAAAkJ,EAAA7K,EAAA6M,KA2UI,SAAAe,EAAOpD,GAAP,OAAAK,EAAA7K,EAAA8K,KAAA,SAAA+C,GAAA,cAAAA,EAAA7C,KAAA6C,EAAA5C,MAAA,UA7avB3C,EAAU,yBA+aR5G,EAAK2L,uCAAuC,eAAgB7C,GACvD9I,EAAKoM,uBAHW,CAAAD,EAAA5C,KAAA,eAInBvJ,EAAKsL,cAJca,EAAA5C,KAAA,EAKbtD,EAAM,KALO,OAMnBjG,EAAKyL,kBACLzL,EAAK0L,+BAA+B,iBAPjB,wBAAAS,EAAAvC,SAAAsC,MA3UJ,gBAAAG,GAAA,OAAArK,EAAA+J,MAAA5L,KAAA6L,YAAA,GAAAhM,EAsVnBsM,OAAS,WACHlG,IAAYpG,EAAKuM,YAAYvM,EAAKwM,aACjC3F,OAAO4F,QAAQC,QAtVpB1M,EAAKU,MAAQA,GAFI,IAGLiM,EAAW3M,EAAKD,MAApBiB,GAHS,OAIjBhB,EAAKwM,YAAL,GAAAjK,OAAsBoK,EAAtB,QACAjM,GAAMkM,YAAc5M,EAAKwM,YACzB3F,OAAOgG,WAAa,kBAAM7M,EAAK8M,qBAE/BjG,OAAO4F,QAAQM,aAAa,GAAI,GAAhC,IAAAxK,OAAwCoK,EAAxC,KAAApK,OAAkDoK,EAAlD,SARiB3M,mFAYjBG,KAAKS,SAALX,OAAAwI,EAAA,EAAAxI,CAAA,GAAmBS,oDAIfA,GAAUP,KAAVO,MADiB,IAAAsM,EAEwC7M,KAAKO,MAA1DgI,EAFasE,EAEbtE,mBAAoBG,EAFPmE,EAEOnE,MAAOC,EAFdkE,EAEclE,aAAcC,EAF5BiE,EAE4BjE,QACjDlC,OAAOgG,WAAahG,OAAOoG,2BAC3BpG,OAAO6B,mBAAqBA,EAC5B7B,OAAOqG,MAAQ,CACbrE,QACAC,eACAC,uDAIgB,IACVoE,EAAStG,OAAOuG,SAAhBD,KACQA,EA5GPlL,SAAS,QA6Gb9B,KAAKkN,sBADaxG,OAAOoG,+EAoBN,IAAApM,EAAAV,KAChB0I,EAAU1I,KAAKO,MAAfmI,MACR,OACExK,EAAAC,EAAAC,cAAC+D,EAAD,CACExD,KAAK,gEACLwC,MAAOuH,EAAM/J,KACbK,QAAS,kBAAM0B,EAAK6K,+BAA+B,2EAKxB,IAAA4B,EAAAnN,KACvB2I,EAAiB3I,KAAKO,MAAtBoI,aACR,OACEzK,EAAAC,EAAAC,cAAC+D,EAAD,CACExD,KAAK,qEACLwC,MAAOwH,EAAahK,KACpBK,QAAS,kBACPmO,EAAK5B,+BAA+B,6EAMhB,IAAA6B,EAAApN,KAClB4I,EAAY5I,KAAKO,MAAjBqI,QACR,OACE1K,EAAAC,EAAAC,cAAC+D,EAAD,CACExD,KAAK,wHACLwC,MAAOyH,EAAQjK,KACfK,QAAS,kBAAMoO,EAAK7B,+BAA+B,qEAMvD,OACErN,EAAAC,EAAAC,cAACW,EAAA,KAAD,KACGiB,KAAKqN,0BACL/G,QAAQtG,KAAKsN,uBACZtN,KAAKuN,iCACNvN,KAAKwN,iFAMV,OACEtP,EAAAC,EAAAC,cAACW,EAAA,MAAD,KACGiB,KAAKyN,eACJvP,EAAAC,EAAAC,cAACW,EAAA,IAAD,KACEb,EAAAC,EAAAC,cAACW,EAAA,OAAD,CACE0L,KAAK,KACLiD,MAAM,UACNnL,UAAU,eACVoL,OAAQzP,EAAAC,EAAAC,cAACwP,EAAAzP,EAAD,MACRa,QAASgB,KAAK6K,UAEd3M,EAAAC,EAAAC,cAAA,qFAINF,EAAAC,EAAAC,cAACW,EAAA,OAAD,iUAGCiB,KAAK6N,uEAKS,IACXtF,EAAuBvI,KAAKO,MAA5BgI,mBACR,OACErK,EAAAC,EAAAC,cAACW,EAAA,MAAD,CAAO8I,MAAM,wCACVU,EAAmBtF,MAAMzB,IAAI,SAAAc,GAAA,IAAGgB,EAAHhB,EAAGgB,KAAME,EAATlB,EAASkB,MAAT,OAC5BtF,EAAAC,EAAAC,cAAC6D,EAAD,CAAgBtD,KAAM2E,EAAMnC,MAAOqC,EAAO9B,IAAK4B,MAG/CpF,EAAAC,EAAAC,cAACiE,EAAD,CACE1D,KAAK,yFACLwC,MAAOnB,KAAK8N,gBAAgB,6DAOb,IACfvF,EAAuBvI,KAAKO,MAA5BgI,mBACR,OACErK,EAAAC,EAAAC,cAACW,EAAA,MAAD,CAAO8I,MAAM,0DACVU,EAAmBrF,UAAU1B,IAAI,SAAAiE,GAAA,IAAGnC,EAAHmC,EAAGnC,KAAME,EAATiC,EAASjC,MAAT,OAChCtF,EAAAC,EAAAC,cAAC6D,EAAD,CAAgBtD,KAAM2E,EAAMnC,MAAOqC,EAAO9B,IAAK4B,MAGjDpF,EAAAC,EAAAC,cAACiE,EAAD,CACE1D,KAAK,2GACLwC,MAAOnB,KAAK8N,gBAAgB,wDAMpBC,GAEd,OAD+B/N,KAAKO,MAA5BgI,mBACkBwF,GAAOC,OAC/B,SAACC,EAAaC,GAAd,OAA+BD,EAAcC,EAAa1K,OAC1D,mDAKF,OACEtF,EAAAC,EAAAC,cAACW,EAAA,MAAD,KACEb,EAAAC,EAAAC,cAACiE,EAAD,CACE1D,KAAK,iCACLwC,MACEnB,KAAK8N,gBAAgB,SAAW9N,KAAK8N,gBAAgB,qEAQ7D,OACE5P,EAAAC,EAAAC,cAAA,WAC0B,UAAvB4B,KAAKmO,eACJjQ,EAAAC,EAAAC,cAAA,WACG4B,KAAKoO,qBACLpO,KAAKqO,yBACLrO,KAAKsO,yFAOuB5M,EAAKD,GAC1CzB,KAAKS,SAALX,OAAAyO,EAAA,EAAAzO,CAAA,GACK4B,EApRT,SAAiDD,GAC/C,MAAO,CACLZ,GAAIY,EAAKZ,GACTlC,KAAM8C,EAAKN,OAiRAqN,CAAwC/M,IACjDzB,KAAKyO,sEAMP,OADoBzO,KAAKO,MAAjBqI,QACO/H,uDAKf,OADyBb,KAAKO,MAAtBoI,aACY9H,gDAKpB,OADkBb,KAAKO,MAAfmI,MACK7H,mDAIb,GAA2B,gBAAvBb,KAAKmO,cAAiC,OAAO,KACjD,GAA2B,UAAvBnO,KAAKmO,cAA2B,OAAOnO,KAAK0O,6BAChD,MAAM,IAAIC,MAAM,0GAGK5F,yFACKF,GAAkBE,UAC5C9D,EAAgBD,EADZC,UAEJjF,KAAKS,SAAS,CAAEwE,mKAGIlC,GACpB/C,KAAKsL,kBACLtL,KAAKS,SAAS,CACZ8H,mBAAmBzI,OAAAwI,EAAA,EAAAxI,CAAA,CACjB0I,OAAQ,SACLzF,+CAMP/C,KAAKS,SAAS,CAAEgI,OAAQ,6CAIxBzI,KAAKS,SAAS,CAAEgI,OAAQvK,EAAAC,EAAAC,cAACW,EAAA,cAAD,8CAIxB,OACEiB,KAAKsN,sBACLtN,KAAK4O,6BACL5O,KAAKiM,6DAKP,OAAO3F,QACLtG,KAAKsN,sBACHtN,KAAK4O,6BACL5O,KAAKiM,4DAICrL,GACVZ,KAAKS,SAAS,CAAEgM,YAAa7L,qLAYYZ,KAAKO,MAAtCmI,UAAOC,iBAAcC,YAC7B5I,KAAKmL,gCAGazB,GAAYhB,EAAM7H,GAAI8H,EAAa9H,GAAI+H,EAAQ/H,WAC/DkC,EAAUD,EADVC,UAEA/C,KAAK6O,sBAAsB9L,GAC3B/C,KAAKsL,oEAELtL,KAAK0L,sBAAsB,kBAAMoD,EAAKC,6RAKpC/O,KAAKgP,8CACDhP,KAAK+O,iKAKb/O,KAAKS,SAAS,CAAEkI,aAAc,CAAE9H,GAAI,EAAGlC,KAAM,uGAGhBiC,GA9VjC,IAAyBqM,IAhBvB,SAAA7K,OA+W0CxB,GA9V1C8F,OAAO4F,QAAQ2C,UAAU,GAAI,GAAIhC,GA+V/BjN,KAAKoM,YAAYxL,iDAGG,IACZoM,EAAStG,OAAOuG,SAAhBD,KACFpM,EAAmCoM,EAjXhCkC,MAAM,IAAK,GAAG,GAkXvBlP,KAAKoM,YAAYxL,iDAGGuO,GAAe,IAAAC,EAAApP,KACnCA,KAAKS,SAAS,CACZgI,OACEvK,EAAAC,EAAAC,cAACiR,GAAD,CACEtH,QAAS,WACPqH,EAAK9D,kBACL6D,KAEFnH,SAAU,kBAAMoH,EAAK9D,wDAqCpB,IAAAgE,EAAAtP,KACKwM,EAAWxM,KAAKJ,MAApBiB,GADD0O,EAEwCvP,KAAKO,MAA5CkM,EAFD8C,EAEC9C,YAAahE,EAFd8G,EAEc9G,OAAQxD,EAFtBsK,EAEsBtK,cAC7B,OACE/G,EAAAC,EAAAC,cAACW,EAAA,KAAD,CAAM8B,GAAI2L,EAAQC,YAAaA,EAAa1L,QAAM,EAAC0H,OAAQA,GACzDvK,EAAAC,EAAAC,cAACW,EAAA,MAAD,CAAO8B,GAAIb,KAAKqM,aACbrM,KAAK2K,iBACL3K,KAAKwP,4BACLxP,KAAKyP,wBACLzP,KAAK0K,cAERxM,EAAAC,EAAAC,cAACsR,EAAD,CACE7O,GAAG,cACHC,iBAAkBd,KAAKmM,OACvBpL,OAAO,uCACPO,MAAOtB,KAAKoH,OACZpG,SAAUhB,KAAK8K,gBAEjB5M,EAAAC,EAAAC,cAACsR,EAAD,CACE7O,GAAG,qBACHC,iBAAkBd,KAAKmM,OACvBpL,OAAO,qEACPO,MAAO2D,EACPjE,SAAUhB,KAAK8L,uBAEjB5N,EAAAC,EAAAC,cAACsR,EAAD,CACE7O,GAAG,gBACHC,iBAAkBd,KAAKmM,OACvBpL,OAAO,6EACPO,MAAOtB,KAAK0H,UACZ1G,SAAU,SAACS,GAvdnBgF,EAAU,oBAydA6I,EAAK9D,uCAAuC,UAAW/J,6CA7U/D,OAD+BzB,KAAKO,MAA5BgI,mBACkBC,cA1FXzG,IAAMC,WAAnBiI,GAQGvK,aAAe,CACpBkL,OAAQ,cAsaGX,UCnhBf,SAAS0F,GAATnR,GAAwC,IAAnB0C,EAAmB1C,EAAnB0C,SAAUC,EAAS3C,EAAT2C,MACvByO,EAAY,SAACC,GAAD,OAAc3O,EAAuB2O,EARlDC,QAAQ,mCAAqB,IAE7BA,QAAQ,QAAS,KACjBtQ,aAML,OACEtB,EAAAC,EAAAC,cAACW,EAAA,MAAD,CACEmF,KAAK,OACL6L,YAAY,2BACZ7O,SAAU,SAAC+C,GAAD,OAAO2L,EAAU3L,EAAE+L,OAAO7O,QACpCA,MAAOA,GAAS,GAChBE,UAAU,OAUhBsO,GAAUjQ,aAAe,CACvByB,MAAO,IAGMwO,mBC3Bf,SAASM,GAAuB9O,GAC9B,OAAOA,EAAM2O,QAAQ,UAAW,IAGlC,SAASI,GAA+B/O,GACtC,UAAAiB,OAAW6N,GAAuB9O,IAGpC,SAASgP,GAAOzN,GACd,IAAI0N,EAAc1N,EAIlB,MAHoB,KAAhB0N,IACFA,EAAcF,GAA+BE,IAC7B,IAAIC,KAAU,MACftD,MAAMqD,GAYzB,IAAI7P,GAAQ,CACVY,MAAO,GACPmP,gBAAgB,GAGZC,eAgBJ,SAAAA,EAAY3Q,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuQ,IACjB1Q,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyQ,GAAApQ,KAAAH,KAAMJ,KACDW,MAAQA,GAFIV,mFAMjBG,KAAKS,SAASF,mDAIVA,GAAUP,KAAVO,0CAGe,IAAVyP,EAAUxR,EAAVwR,OACThQ,KAAKwQ,YAAYR,EAAO7O,oKAIuBnB,KAAKJ,MAA5C6Q,uBAAoBC,oBACxBD,0BACEC,GAAgBA,sBArEjBvM,EAAqB,0CAuEAwM,IAAdC,aACR5Q,KAAKwQ,YAAL,IAAApO,OAAqBuO,sMAKfxP,GAAO,IACTD,EAAalB,KAAKJ,MAAlBsB,SACR,GA5DJ,SAAqBC,GACnB,IAEM0P,EAAUZ,GAAuB9O,GAEvC,OAD2B0P,EAAQC,WAAW,OACfD,EAAQtP,QAHL,GAI3BsP,EAAQtP,QALe,GA2DxBwP,CAAY5P,GAAQ,CACtB,IAAM6P,EAAiBb,GAAOhP,GAC9BnB,KAAKS,SAAS,CAAEU,MAAO6P,IACvB9P,EAASgP,GAA+B/O,sCAInC,IAAAT,EAAAV,KAAAiR,EAC4BjR,KAAKJ,MAAhC2C,EADD0O,EACC1O,UAAWwN,EADZkB,EACYlB,YACX5O,EAAUnB,KAAKO,MAAfY,MACR,OACEjD,EAAAC,EAAAC,cAACW,EAAA,MAAD,CACEmF,KAAK,MACL6L,YAAaI,GAAOJ,GACpB7O,SAAU,SAAC+C,GAAD,OAAOvD,EAAKQ,SAAS+C,IAC/B9C,MAAOA,EACPoB,UAAWA,EACXvD,QAAS,SAACiF,GAAD,OAAOvD,EAAK1B,QAAQiF,aA/DZlC,IAAMC,WAAzBuO,GASG7Q,aAAe,CACpBqQ,YAAa,GACbxN,UAAW,GACXkO,oBAAoB,EACpBC,eAAgB,cAwDLH,UCvGXhQ,GAAQ,CACV+C,KAAM,GACN4N,MAAO,GACPC,eAAe,EACfV,oBAAoB,OAYhBW,eACJ,SAAAA,EAAYxR,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoR,IACjBvR,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsR,GAAAjR,KAAAH,KAAMJ,KAkBR8Q,eAAiB,WACf7Q,EAAKY,SAAS,CAAEgQ,oBAAoB,KAlBpC5Q,EAAKU,MAAQA,GAFIV,mFAKC,IACVyD,EAAStD,KAAKO,MAAd+C,KACA+N,EAAgBrR,KAAKJ,MAArByR,YACRrR,KAAKS,SAALX,OAAAwI,EAAA,EAAAxI,CAAA,GACKS,GADL,CAEEkQ,oBAAoB,EACpBnN,KAAMA,GAAQ+N,oDAKZ9Q,GAAUP,KAAVO,iEAO6B,IACzB+Q,EAAgBtR,KAAKJ,MAArB0R,YADyBzE,EAET7M,KAAKO,MAArB+C,EAFyBuJ,EAEzBvJ,KAAM4N,EAFmBrE,EAEnBqE,OA/BlB,SAAqBA,GAEnB,OANF,SAAoBA,GAClB,OAAOA,EAAMpB,QAAQ,WAAY,IAIZyB,CAAWL,GACZ3P,QAAU,EA8BxBiQ,CAAYN,GACXlR,KAAKS,SAAS,CAAE0Q,eAAe,IADZG,EAAYhO,EAAM4N,oCAInC,IAAAxQ,EAAAV,KAAAyR,EAC6CzR,KAAKO,MAAjD+C,EADDmO,EACCnO,KAAM6N,EADPM,EACON,cAAeV,EADtBgB,EACsBhB,mBAC7B,OACEvS,EAAAC,EAAAC,cAACW,EAAA,MAAD,KACEb,EAAAC,EAAAC,cAACW,EAAA,WAAD,KACEb,EAAAC,EAAAC,cAACsT,GAAD,CACEC,IAAI,qBACJzQ,SAAU,SAACC,GAAD,OAAWT,EAAKD,SAAS,CAAE6C,KAAMnC,KAC3CA,MAAOmC,IAETpF,EAAAC,EAAAC,cAACwT,GAAD,CACED,IAAI,kFACJ5B,YAAY,eACZ7O,SAAU,SAACC,GAET,OADAT,EAAKD,SAAS,CAAE0Q,eAAe,IACxBzQ,EAAKD,SAAS,CAAEyQ,MAAO/P,KAEhC0Q,OAAQV,EAAgB,8FAAqB,GAC7C3I,OAAQ2I,EAAgB,QAAU,UAClCV,mBAAoBA,EACpBC,eAAgB1Q,KAAK0Q,iBAEvBxS,EAAAC,EAAAC,cAACW,EAAA,OAAD,CACE2O,MAAM,WACNjD,KAAK,KACLzL,QAAS,kBAAM0B,EAAKoR,qCAHtB,wGArDoB9P,aAuE9BoP,GAAgB1R,aAAe,CAC7B2R,YAAa,IAGAD,UCpFf,SAASW,GAASpT,GAChB,MAAa,+CAATA,EAA2B,GACxBA,WAsBM2S,uFAAf,SAAAvF,EAA2BzI,EAAM4N,EAAOc,GAAxC,IAAAC,EAAAvJ,EAAAC,EAAAC,EAAAsJ,EAAAjP,EAAAC,EAAAmC,EAAA/C,EAAAkG,EAAA1D,EAAA,OAAAkE,EAAA7K,EAAA8K,KAAA,SAAA+C,GAAA,cAAAA,EAAA7C,KAAA6C,EAAA5C,MAAA,cAAA6I,EAdS,CAAEvJ,MAHKqJ,GAASrL,OAAOqG,MAAMrE,MAAM/J,MAG1BgK,aAFKoJ,GAASrL,OAAOqG,MAAMpE,aAAahK,MAE1BiK,QADdmJ,GAASrL,OAAOqG,MAAMnE,QAAQjK,OAgBtC+J,EADVuJ,EACUvJ,MAAOC,EADjBsJ,EACiBtJ,aAAcC,EAD/BqJ,EAC+BrJ,QAD/BsJ,EAPS,CAAEjP,MAFKkP,KAAKC,UAAU1L,OAAO6B,mBAAmBtF,OAEvCC,UADEiP,KAAKC,UAAU1L,OAAO6B,mBAAmBrF,YAUnDD,EAFViP,EAEUjP,MAAOC,EAFjBgP,EAEiBhP,UACTmC,EAAMgB,EAAe,cAAgB,oCAH7C2F,EAAA5C,KAAA,EAIiCxD,IAAMyM,IAAIhN,EAAK,CAC5CC,OAAQ,CACNoD,QACAC,eACAC,UACA3F,QACAC,YACAI,OACA4N,QACAoB,gBAAiBN,KAbvB,UAAA1P,EAAA0J,EAAAzC,KAIUf,EAJVlG,EAIUkG,OAAQ1D,EAJlBxC,EAIkBwC,KAYA,OAAX0D,EAhBP,CAAAwD,EAAA5C,KAAA,eAgB6B,IAAIuF,MAAM,iBAhBvC,eAAA3C,EAAA1C,OAAA,SAiBSxE,GAjBT,yBAAAkH,EAAAvC,SAAAsC,iCAoBqBwG,eAQnB,SAAAA,EAAY3S,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuS,IACjB1S,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyS,GAAApS,KAAAH,KAAMJ,KAUR0R,YAXmB,eAAA9S,EAAAsB,OAAAiL,EAAA,EAAAjL,CAAAkJ,EAAA7K,EAAA6M,KAWL,SAAAC,EAAO3H,EAAM4N,GAAb,IAAAsB,EAAAR,EAAAnQ,EAAA4Q,EAAAC,EAAA,OAAA1J,EAAA7K,EAAA8K,KAAA,SAAAiC,GAAA,cAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,cACJoJ,EAAkB3S,EAAKD,MAAvB4S,cACR3S,EAAKsL,cAFOD,EAAA/B,KAAA,EAAA+B,EAAA9B,KAAA,EV1BP,IAAI/E,QAAQ,SAACC,GAClBqO,WAAWC,MAAM,WACfD,WACGE,QAAQ,2CAA4C,CACnD/K,OAAQ,aAETgL,KAAKxO,OUoBE,cAIJ0N,EAJI9G,EAAA3B,KAAA2B,EAAA9B,KAAA,EAKkBkI,GAAYhO,EAAM4N,EAAOc,GAL3C,OAAAnQ,EAAAqJ,EAAA3B,KAKFkJ,EALE5Q,EAKF4Q,GAAIC,EALF7Q,EAKE6Q,MACZ7S,EAAKyL,kBACAmH,GAjDThM,EAAU,uBAoFJ+L,KAlCc,sBAAVE,EAA+B7S,EAAKY,SAAS,CAAEiS,UASjD7S,EAAKY,SAAS,CACZgI,OACEvK,EAAAC,EAAAC,cAACW,EAAA,MAAD,CACEgU,QAASlT,EAAKY,SAAS,CAAEgI,OAAQ,OACjCb,QAAS,CACP,CACEC,MAAO,mDACPC,OAAQ,kBAAMpB,OAAOsM,KAAK,+BAE5B,CACEnL,MAAO,uCACPC,OAAQ,kBAAMjI,EAAKY,SAAS,CAAEgI,OAAQ,QACtCpI,MAAO,YAIXnC,EAAAC,EAAAC,cAAA,0YAjCA8M,EAAA9B,KAAA,iBAAA8B,EAAA/B,KAAA,GAAA+B,EAAAO,GAAAP,EAAA,SA6CVrL,EAAK6L,sBAAsB,kBAAM7L,EAAKiS,qCA7C5B,yBAAA5G,EAAAzB,SAAAwB,EAAA,kBAXK,gBAAAgI,EAAAtH,GAAA,OAAAnN,EAAAoN,MAAA5L,KAAA6L,YAAA,GAEjBhM,EAAKU,MAAQ,CACXkI,OAAQ,MAHO5I,mFAQjBG,KAAKsQ,gBAAiB,gDAoDFnB,GAAe,IAAAzO,EAAAV,KACnCA,KAAKS,SAAS,CACZgI,OACEvK,EAAAC,EAAAC,cAACiR,GAAD,CACEtH,QAAS,WACPrH,EAAK4K,kBACL6D,KAEFnH,SAAU,kBAAMtH,EAAK4K,iEAO3BtL,KAAKS,SAAS,CACZgI,OAAQ,6CAKVzI,KAAKS,SAAS,CAAEgI,OAAQvK,EAAAC,EAAAC,cAACW,EAAA,cAAD,yCAGjB,IAAA4B,EACkCX,KAAKJ,MAAlC4M,EADL7L,EACCE,GAAY+J,EADbjK,EACaiK,OAAQsI,EADrBvS,EACqBuS,SADrBrG,EAEmB7M,KAAKO,MAAvBkI,EAFDoE,EAECpE,OAAQiK,EAFT7F,EAES6F,MAChB,GAAIA,EAAO,MAAM,IAAI/D,MAAM+D,GAC3B,IAAM9R,EAAO,GAAAwB,OAAMoK,EAAN,QACb,OACEtO,EAAAC,EAAAC,cAACW,EAAA,KAAD,CAAM8B,GAAI2L,EAAQC,YAAa7L,EAASG,QAAM,EAAC0H,OAAQA,GACrDvK,EAAAC,EAAAC,cAACW,EAAA,MAAD,CAAO8B,GAAID,GACT1C,EAAAC,EAAAC,cAACG,EAAD,CAAaG,kBAAmBkM,EAAQjM,KAAK,gGAC7CT,EAAAC,EAAAC,cAAC+U,GAAD,CACE7B,YAAatR,KAAKsR,YAClBD,YAAa6B,aAvGoBlR,2CCe9BoR,eApDb,SAAAA,EAAYxT,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoT,IACjBvT,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsT,GAAAjT,KAAAH,KAAMJ,KAHRyK,WAAa,qFAEMxK,EAQnBwT,SAAW,WApBX5M,EAAU,cAuBR4M,EADqBxT,EAAKD,MAAlByT,aAVS,IAEL7G,EAAW3M,EAAKD,MAApBiB,GAFS,OAGjBhB,EAAKU,MAAQ,CACXkM,YAAW,GAAArK,OAAKoK,EAAL,SAJI3M,6EAcL,IACMyD,EAAStD,KAAKJ,MAAxBsT,SAEFI,EAAWhQ,EAAI,GAAAlB,OADE,2EACF,MAAAA,OAAyBkB,EAAzB,QAAAlB,OADE,2EACF,KACrB,OAAOlE,EAAAC,EAAAC,cAAA,SAAIkV,EAAJ,2HAGA,IACK9G,EAAWxM,KAAKJ,MAApBiB,GACA4L,EAAgBzM,KAAKO,MAArBkM,YACF7L,EAAO,GAAAwB,OAAMoK,EAAN,QACb,OACEtO,EAAAC,EAAAC,cAACW,EAAA,KAAD,CAAM8B,GAAI2L,EAAQC,YAAaA,GAC7BvO,EAAAC,EAAAC,cAACW,EAAA,MAAD,CAAO8B,GAAID,GACT1C,EAAAC,EAAAC,cAACW,EAAA,YAAD,KAAciB,KAAKqK,YACnBnM,EAAAC,EAAAC,cAACW,EAAA,MAAD,KACEb,EAAAC,EAAAC,cAACW,EAAA,IAAD,KACEb,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,sBACbrE,EAAAC,EAAAC,cAAA,OAAKmV,IAAKC,KAAMC,IAAI,4FAEtBvV,EAAAC,EAAAC,cAAA,WACG4B,KAAK0T,cACNxV,EAAAC,EAAAC,cAAA,ggBAKFF,EAAAC,EAAAC,cAACW,EAAA,OAAD,CAAQyL,WAAS,EAACC,KAAK,KAAKzL,QAASgB,KAAKqT,UAA1C,+IAlDUtR,IAAMC,mDC6Cf2R,sBA5Cb,SAAAA,EAAY/T,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2T,IACjB9T,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6T,GAAAxT,KAAAH,KAAMJ,KACDW,MAAQ,CAAEmS,MAAO,MAFL7S,iFAKD6S,EAAOkB,GACvB5T,KAAKS,SAAS,CAAEiS,UAChBmB,IAAMC,iBAAiBpB,EAAO,CAAEqB,MAAOH,qCAGhC,IACClB,EAAU1S,KAAKO,MAAfmS,MACAsB,EAAahU,KAAKJ,MAAlBoU,SACR,OAAItB,EAEAxU,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,iBACbrE,EAAAC,EAAAC,cAAA,OAAKmV,IAAKU,KAAYR,IAAI,0CAC1BvV,EAAAC,EAAAC,cAAA,uKACAF,EAAAC,EAAAC,cAAA,uLACAF,EAAAC,EAAAC,cAAA,yNACAF,EAAAC,EAAAC,cAAA,MAAImE,UAAU,uBACZrE,EAAAC,EAAAC,cAAA,MAAImE,UAAU,0CAAd,2DACarE,EAAAC,EAAAC,cAAC8V,GAAA/V,EAAD,MADb,oHAGAD,EAAAC,EAAAC,cAAA,gLACAF,EAAAC,EAAAC,cAAA,oEACa,IACXF,EAAAC,EAAAC,cAAA,KACEmE,UAAU,sBACV4R,KAAK,kCACLnE,OAAO,SACPoE,IAAI,uBAJN,wIAaHJ,SA7CiBjS,IAAMC,YCgDnBqS,qNA1CbC,aAAe,WAEb,OADA7N,EAAU,mBACH,2EAGA,IAAA9F,EACwBX,KAAKJ,MAAxB4M,EADL7L,EACCE,GAAY+J,EADbjK,EACaiK,OACdhK,EAAO,GAAAwB,OAAMoK,EAAN,QACb,OACEtO,EAAAC,EAAAC,cAACW,EAAA,KAAD,CAAM8B,GAAI2L,EAAQC,YAAa7L,GAC7B1C,EAAAC,EAAAC,cAACW,EAAA,MAAD,CAAO8B,GAAID,GACT1C,EAAAC,EAAAC,cAACG,EAAD,CAAaG,kBAAmB,kBAAMkM,KAAUjM,KAAK,+CACrDT,EAAAC,EAAAC,cAACW,EAAA,MAAD,KACEb,EAAAC,EAAAC,cAACW,EAAA,KAAD,CAAMwV,WAAS,GACbrW,EAAAC,EAAAC,cAAA,0DACAF,EAAAC,EAAAC,cAAA,kQAEFF,EAAAC,EAAAC,cAACW,EAAA,KAAD,CAAMwV,WAAS,GACbrW,EAAAC,EAAAC,cAAA,QAAMmE,UAAU,oCAAhB,kOAGArE,EAAAC,EAAAC,cAACW,EAAA,OAAD,CACEyV,UAAU,IACVL,KAAK,6BACLnE,OAAO,SACPoE,IAAI,sBACJpV,QAASgB,KAAKsU,aACd5G,MAAM,WACNlD,WAAS,EACTC,KAAK,KACLpK,MAAO,CAAEoU,UAAW,SATtB,yDA3Ba1S,IAAMC,qBCIlB0S,kFAAf,SAAA3I,IAAA,OAAA/C,EAAA7K,EAAA8K,KAAA,SAAA+C,GAAA,cAAAA,EAAA7C,KAAA6C,EAAA5C,MAAA,cAAA4C,EAAA5C,KAAA,EfgDSjF,EAAqB,uBehD9B,cAAA6H,EAAA1C,OAAA,SAAA0C,EAAAzC,KAC+BoL,YAD/B,wBAAA3I,EAAAvC,SAAAsC,iCA8He6I,eAjGb,SAAAA,EAAYhV,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4U,IACjB/U,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8U,GAAAzU,KAAAH,KAAMJ,KAsCRiV,SAAW,SAACrI,GACNvG,IAAYpG,EAAKiV,WAAWtI,GAC3B9F,OAAO4F,QAAQC,QAvCpB,IAAMwI,EAAgBH,EAAII,uBACpBC,EAAYF,EAAgB,QAAU,OAH3B,OAIjBlV,EAAKU,MAAQ,CACX2U,WAAYD,EACZ/B,SAAU,GACV6B,iBA/BJrO,OAAO4F,QAAQM,aAAa,GAAI,GAAI,UAkClC/M,EAAKsV,+BACLtV,EAAKuV,4BAXYvV,2FALjB,OADkByG,QAAQ+O,aAAaC,QAD3B,cAGZD,aAAaE,QAHD,UAGcC,QAAO,KAC1B,qLAkBPC,OAAe,eAAgB,aACZf,YAAbpR,SACNtD,KAAK0V,YAAYpS,iJAGC,IAEZkJ,EA3CV,SAAiCQ,GAC/B,OAAOA,EAAK2I,MAAM,GAAGzG,MAAM,IAAK,GAAG,GA0ClB0G,CADElP,OAAOuG,SAAhBD,MAERhN,KAAK8U,WAAWtI,uDAGU,IAAA9L,EAAAV,KAC1B0G,OAAOgG,WACLhG,OAAOoG,4BAA+B,kBAAMpM,EAAKiM,4EAGtB,IAAAQ,EAAAnN,KAC7B0G,OAAOoG,2BAA6B,kBAAMK,EAAKR,yDAGrCuG,GACVlT,KAAKS,SAAS,CAAEyS,gDAQP1G,GACTxM,KAAKS,SAAS,CAAEyU,WAAY1I,qCAI5BxM,KAAK6V,6BAA6B,mDAIlC7V,KAAK6V,6BAA6B,uDAIlC7V,KAAK6V,6BAA6B,oEAGPrJ,GA7E/B,IAAyBS,IAKvB,IAAA7K,OAyE0CoK,GA7E1C9F,OAAO4F,QAAQ2C,UAAU,GAAI,GAAIhC,GA8E/BjN,KAAK8U,WAAWtI,oCAGT,IAAAY,EAAApN,KAAA6M,EACyC7M,KAAKO,MAA7C2S,EADDrG,EACCqG,SAAUgC,EADXrI,EACWqI,WAAYH,EADvBlI,EACuBkI,cAC9B,OACE7W,EAAAC,EAAAC,cAAC0X,GAAD,KACE5X,EAAAC,EAAAC,cAACW,EAAA,KAAD,CAAMmW,WAAYA,GAChBhX,EAAAC,EAAAC,cAAC2X,GAAD,CACElV,GAAG,QACHwS,SAAU,kBAAMjG,EAAK4I,UACrB9C,SAAUA,IAEZhV,EAAAC,EAAAC,cAAC6X,GAAD,CACEpV,GAAG,OACHyJ,WAAY,kBAAM8C,EAAK8I,mBACvBtL,OAAQ,kBAAMwC,EAAKyH,SAAS,UAC5BjW,eAAgBmW,IAElB7W,EAAAC,EAAAC,cAAC+X,GAAD,CACEtV,GAAG,cACH+J,OAAQ,kBAAMwC,EAAKyH,SAAS,SAC5BrC,cAAe,kBAAMpF,EAAKgJ,oBAC1BlD,SAAUA,IAEZhV,EAAAC,EAAAC,cAACiY,GAAD,CACExV,GAAG,YACH+J,OAAQ,kBAAMwC,EAAKyH,SAAS,2BAlGtB7S,aCoCEsE,QACW,cAA7BI,OAAOuG,SAASqJ,UAEe,UAA7B5P,OAAOuG,SAASqJ,UAEhB5P,OAAOuG,SAASqJ,SAASC,MACvB,2DCjEFlQ,IhBsDFwN,IAAM2C,OACJ,8DACAC,UAlDD,SAAUC,EAAGC,EAAGC,IACbD,EAAEC,GAAKD,EAAEC,IAAM,IAAIjT,KAAK,WACxB,IAEEgT,EAAEhQ,kBAAoB,IAAIkQ,GAAGC,SAAS,CACpCjW,GAAI,SACJkW,UAAU,EACVC,YAAY,EACZC,qBAAqB,EACrBC,UAAU,IAEZ,MAAOjT,OAIX,IAAIkT,EAAIT,EAAEU,qBAAqB,UAAU,GACvCC,EAAIX,EAAEtY,cAAc,UACpBkZ,EAAI,WACFH,EAAEI,WAAWC,aAAaH,EAAGF,IAEjCE,EAAEnT,KAAO,kBACTmT,EAAEI,OAAQ,EACVJ,EAAE9D,IAAM,sCAGO,kBAAXoD,EAAEe,MACJhB,EAAEiB,iBAAiB,mBAAoBL,GAAG,GAE1CA,IA5BH,CA8BEM,SAAUlR,OAAQ,6BAsBrBkR,SAASC,KAAKC,WAAatR,GgBxD7B,IAEgBxE,GAFV+V,GAAOH,SAASI,eAAe,QAYrCvC,OAAe,eAAgB,IAVfzT,GAYT4S,GAXLqD,IAASC,OACPha,EAAAC,EAAAC,cAAC+Z,EAAA,aAAD,KACEja,EAAAC,EAAAC,cAAC4D,GAAD,OAEF+V,ID+FE,kBAAmBK,WACrBA,UAAUC,cAAczF,MAAME,KAAK,SAACwF,GAClCA,EAAaC","file":"static/js/main.d4c2be09.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.4d10b61e.png\";","module.exports = \"data:image/png;base64,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\"","import React from 'react'\nimport { IOS, platform } from '@vkontakte/vkui/'\nimport Icon24Back from '@vkontakte/icons/dist/24/back'\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back'\n\nfunction BackButton() {\n  const osName = platform()\n  if (osName === IOS) return <Icon28ChevronBack />\n  return <Icon24Back />\n}\n\nexport default BackButton\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { HeaderButton, PanelHeader as VKPanelHeader } from '@vkontakte/vkui'\nimport BackButton from './BackButton'\n\nexport default function PanelHeader({\n  panelHeaderProps,\n  onBackButtonClick,\n  text,\n  showBackButton,\n}) {\n  const vkPanelHeaderProps = panelHeaderProps\n  if (showBackButton)\n    vkPanelHeaderProps.left = (\n      <HeaderButton onClick={onBackButtonClick}>\n        <BackButton />\n      </HeaderButton>\n    )\n  else vkPanelHeaderProps.left = undefined\n  return <VKPanelHeader {...vkPanelHeaderProps}>{text}</VKPanelHeader>\n}\n\nPanelHeader.propTypes = {\n  onBackButtonClick: PropTypes.func.isRequired,\n  text: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  panelHeaderProps: PropTypes.object,\n  showBackButton: PropTypes.bool,\n}\n\nPanelHeader.defaultProps = {\n  panelHeaderProps: {},\n  showBackButton: true,\n}\n","import React from 'react'\nimport { Cell, Div, List, Panel, Search } from '@vkontakte/vkui'\nimport PropTypes from 'prop-types'\nimport PanelHeader from '../helpers/PanelHeader'\n\nfunction normalizeSearchValue(text, { shouldLowerCase, shouldTrimBoth }) {\n  let normalizedText\n  if (shouldTrimBoth) normalizedText = text.trim()\n  else normalizedText = text.trimLeft()\n  if (shouldLowerCase) normalizedText = normalizedText.toLowerCase()\n  return normalizedText\n}\n\nclass SweetSelect extends React.Component {\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n    backClickHandler: PropTypes.func.isRequired,\n    header: PropTypes.node.isRequired,\n    items: PropTypes.arrayOf(\n      PropTypes.exact({\n        id: PropTypes.number.isRequired,\n        value: PropTypes.string.isRequired,\n      })\n    ).isRequired,\n    onSelect: PropTypes.func.isRequired,\n  }\n\n  notFoundComponent = (\n    <Div style={{ textAlign: 'center' }}>\n      <p>Не найдено</p>\n    </Div>\n  )\n\n  constructor(props) {\n    super(props)\n    this.state = { searchText: '' }\n  }\n\n  onSearchChange(text) {\n    const normalizedText = normalizeSearchValue(text, {\n      shouldLowerCase: false,\n    })\n    this.setState({ searchText: normalizedText })\n  }\n\n  get items() {\n    const { searchText } = this.state\n    const { items } = this.props\n    const normalizedSearchText = normalizeSearchValue(searchText, {\n      shouldLowerCase: true,\n      shouldTrimBoth: true,\n    })\n    return items.filter(({ value }) =>\n      normalizeSearchValue(value, {\n        shouldLowerCase: true,\n        shouldTrimBoth: true,\n      }).includes(normalizedSearchText)\n    )\n  }\n\n  render() {\n    const { searchText } = this.state\n    const { id: panelId, backClickHandler, header, onSelect } = this.props\n    return (\n      <Panel id={panelId}>\n        <PanelHeader\n          onBackButtonClick={() => backClickHandler()}\n          text={header}\n          panelHeaderProps={{ noShadow: true }}\n        />\n        <Search\n          onChange={(value) => this.onSearchChange(value)}\n          value={searchText}\n          maxLength={35}\n        />\n        {this.items.length > 0 && (\n          <List>\n            {this.items.map((item) => (\n              <Cell\n                key={item.id}\n                onClick={() => {\n                  backClickHandler()\n                  onSelect(item)\n                }}\n              >\n                {item.value}\n              </Cell>\n            ))}\n          </List>\n        )}\n        {!this.items.length && this.notFoundComponent}\n      </Panel>\n    )\n  }\n}\n\nexport default SweetSelect\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Cell } from '@vkontakte/vkui'\nimport './indicators.css'\n\nfunction MoneyIndicator({ text, value, additionalClassesAsStr }) {\n  return (\n    <Indicator\n      text={text}\n      value={`${value} руб`}\n      additionalClassesAsStr={`money ${additionalClassesAsStr || ''}`}\n    />\n  )\n}\n\nMoneyIndicator.propTypes = {\n  text: PropTypes.string.isRequired,\n  value: PropTypes.number.isRequired,\n  additionalClassesAsStr: PropTypes.string,\n}\n\nMoneyIndicator.defaultProps = {\n  additionalClassesAsStr: '',\n}\n\nfunction SummaryMoneyIndicator({ text, value }) {\n  return (\n    <MoneyIndicator\n      text={text}\n      value={value}\n      additionalClassesAsStr=\"summary\"\n    />\n  )\n}\n\nSummaryMoneyIndicator.propTypes = {\n  text: PropTypes.string.isRequired,\n  value: PropTypes.number.isRequired,\n}\n\nfunction Indicator({ text, value, onClick, additionalClassesAsStr }) {\n  return (\n    <Cell onClick={onClick && (() => onClick())}>\n      <div className={`indicator ${additionalClassesAsStr || ''}`}>\n        <div className=\"text-wrapper\">\n          <span>{text}</span>\n        </div>\n        <div className=\"value-wrapper\">\n          <span className=\"value\">{value}</span>\n        </div>\n      </div>\n    </Cell>\n  )\n}\n\nIndicator.propTypes = {\n  text: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n  additionalClassesAsStr: PropTypes.string,\n}\n\nIndicator.defaultProps = {\n  onClick: () => {},\n  additionalClassesAsStr: '',\n}\n\nexport { MoneyIndicator, SummaryMoneyIndicator, Indicator }\n","import connect from '@vkontakte/vkui-connect'\nimport axios from 'axios'\nimport UAParser from 'ua-parser-js'\n\nfunction getPrice(string) {\n  return Number.parseInt(string, 10) || 0\n}\n\nfunction getName(string) {\n  return string === '---' ? '' : string\n}\n\nfunction convertMaterial(row) {\n  return {\n    name: getName(row.MATERIAL_NAME),\n    price: getPrice(row.MATERIAL_PRICE),\n  }\n}\n\nfunction convertWork(row) {\n  return {\n    name: getName(row.SERVICE_NAME),\n    price: getPrice(row.SERVICE_PRICE),\n  }\n}\n\nfunction convertResults(results) {\n  const converted = { works: [], materials: [] }\n  results.forEach((row) => {\n    const material = convertMaterial(row)\n    if (material.name) converted.materials.push(material)\n    const work = convertWork(row)\n    if (work.name) converted.works.push(work)\n  })\n  return converted\n}\n\nfunction messageTypeIs(e, type) {\n  return e.type === type\n}\n\nfunction getInfoFromVKConnect(eventName) {\n  return new Promise((resolve, reject) => {\n    const subscriber = (e) => {\n      const response = e.detail\n      if (messageTypeIs(response, `${eventName}Result`)) {\n        connect.unsubscribe(subscriber)\n        resolve(response.data)\n      } else if (messageTypeIs(response, `${eventName}Failed`)) {\n        connect.unsubscribe(subscriber)\n        reject(response.data)\n      }\n    }\n    connect.subscribe(subscriber)\n    connect.send(eventName, {})\n  })\n}\n\nfunction getUserInfo() {\n  return getInfoFromVKConnect('VKWebAppGetUserInfo')\n}\n\nfunction convertModifications(modifications) {\n  return Object.entries(modifications).map(([id, value]) => ({\n    id: parseInt(id, 10),\n    value,\n  }))\n}\n\nfunction doPostRequest(url, params) {\n  const requestParams = new URLSearchParams()\n  Object.entries(params).forEach(([parameter, value]) => {\n    requestParams.append(parameter, value)\n  })\n  return axios.post(url, requestParams)\n}\n\nfunction sleep(seconds) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, seconds * 1000)\n  })\n}\n\nlet _isSafari\n\nfunction isSafari() {\n  if (typeof _isSafari === 'undefined') {\n    const uaParser = new UAParser()\n    const { name: browser } = uaParser.getBrowser()\n    _isSafari = browser.toLowerCase().includes('safari')\n  }\n  return _isSafari\n}\n\nexport {\n  convertResults,\n  getInfoFromVKConnect,\n  getUserInfo,\n  convertModifications,\n  doPostRequest,\n  sleep,\n  isSafari,\n}\n","import Raven from 'raven-js'\n\nconst { REACT_APP_IS_PROD } = process.env\nconst isProduction = Boolean(parseInt(REACT_APP_IS_PROD, 10))\n\nconst noscriptMetrikaTag = `\n    <noscript>\n        <div><img src=\"https://mc.yandex.ru/watch/50376901\" style=\"position:absolute; left:-9999px;\" alt=\"\" /></div>\n    </noscript>\n`\n\nfunction launchMetrika() {\n  // Yandex.Metrika code\n  /* eslint-disable */\n  ;(function(d, w, c) {\n    ;(w[c] = w[c] || []).push(function() {\n      try {\n        // noinspection JSUnresolvedFunction\n        w.yaCounter50376901 = new Ya.Metrika2({\n          id: 50376901,\n          clickmap: true,\n          trackLinks: true,\n          accurateTrackBounce: true,\n          webvisor: true,\n        })\n      } catch (e) {}\n    })\n\n    // noinspection ES6ConvertVarToLetConst\n    var n = d.getElementsByTagName('script')[0],\n      s = d.createElement('script'),\n      f = function() {\n        n.parentNode.insertBefore(s, n)\n      }\n    s.type = 'text/javascript'\n    s.async = true\n    s.src = 'https://mc.yandex.ru/metrika/tag.js'\n\n    // noinspection EqualityComparisonWithCoercionJS\n    if (w.opera == '[object Opera]') {\n      d.addEventListener('DOMContentLoaded', f, false)\n    } else {\n      f()\n    }\n  })(document, window, 'yandex_metrika_callbacks2')\n  /* eslint-enable */\n}\n\nfunction getRecaptchaToken() {\n  /* global grecaptcha */\n  return new Promise((resolve) => {\n    grecaptcha.ready(() => {\n      grecaptcha\n        .execute('6Le77psUAAAAAHexyG1I-8n1xj2W1pADVQHL7PFo', {\n          action: 'homepage',\n        })\n        .then(resolve)\n    })\n  })\n}\n\nfunction initProductionUtils() {\n  Raven.config(\n    'https://e1f809f399e2427898e1796a4a4d8c64@sentry.io/1280607'\n  ).install()\n  launchMetrika()\n  document.body.innerHTML += noscriptMetrikaTag\n}\n\nfunction reachGoal(name) {\n  if (!isProduction) return\n  try {\n    // noinspection JSUnresolvedFunction\n    window.yaCounter50376901.reachGoal(name)\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      `Tried to reach goal ${name}, but Yandex.Metrika is blocked or removed`\n    )\n  }\n}\n\nexport { isProduction, initProductionUtils, reachGoal, getRecaptchaToken }\n","export default {\n  67223: '1.6л., бензин, 117 л.с., CVT',\n  67271: '1.6л., турбо, бензин, 200 л.с., 4х2 МКПП',\n  67272: '1.6л., бензин, 117 л.с., МКПП',\n  67273: '1.6л., турбо, бензин, 200 л.с., 4х4 CVT',\n}\n","export default [\n  {\n    SERVICE_NAME: 'Замена моторного масла (без снятия защиты ДВС)',\n    SERVICE_PRICE: '600',\n    MATERIAL_NAME: 'Моторное масло 5л.',\n    MATERIAL_PRICE: '2250',\n  },\n  {\n    SERVICE_NAME: 'Замена масляного фильтра (без снятия защиты ДВС)',\n    SERVICE_PRICE: '---',\n    MATERIAL_NAME: 'Масляный фильтр',\n    MATERIAL_PRICE: '450',\n  },\n  {\n    SERVICE_NAME: 'Замена прокладки сливной пробки',\n    SERVICE_PRICE: '---',\n    MATERIAL_NAME: 'Прокладка сливной пробки',\n    MATERIAL_PRICE: '50',\n  },\n  {\n    SERVICE_NAME: 'Замена воздушного фильтра',\n    SERVICE_PRICE: '300',\n    MATERIAL_NAME: 'Воздушный фильтр',\n    MATERIAL_PRICE: '450',\n  },\n  {\n    SERVICE_NAME: 'Замена фильтра вентиляции салона',\n    SERVICE_PRICE: '400',\n    MATERIAL_NAME: 'Фильтр вентиляции салона',\n    MATERIAL_PRICE: '400',\n  },\n  {\n    SERVICE_NAME: 'Cмазка петель, замков',\n    SERVICE_PRICE: '100',\n    MATERIAL_NAME: '---',\n    MATERIAL_PRICE: '---',\n  },\n  {\n    SERVICE_NAME:\n      'Диагностика (всех систем, включая компьютерную, а также осмотр дроссельной заслонки)',\n    SERVICE_PRICE: '1490',\n    MATERIAL_NAME: '---',\n    MATERIAL_PRICE: '---',\n  },\n]\n","export default [\n  { id: 43, value: 'Almera Classic (2006-2013)' },\n  { id: 44, value: 'Almera New (с 2012)' },\n  { id: 45, value: 'Juke (с 2011)' },\n  { id: 46, value: 'Micra (с 2002)' },\n  { id: 47, value: 'Murano (2008-2015)' },\n  { id: 48, value: 'Murano (с 2015)' },\n  { id: 49, value: 'Navara (с 2010)' },\n  { id: 50, value: 'Note (2006-2014)' },\n  { id: 51, value: 'Pathfinder (2010-2013)' },\n  { id: 52, value: 'Pathfinder (с 2013)' },\n  { id: 53, value: 'Qashqai (2006-2013)' },\n  { id: 54, value: 'Qashqai (с 2013)' },\n  { id: 55, value: 'Teana (2008-2013)' },\n  { id: 56, value: 'Teana (с 2013)' },\n  { id: 57, value: 'Terrano (с 2013)' },\n  { id: 58, value: 'Tiida (2004-2015)' },\n  { id: 60, value: 'X-Trail (2010-2014)' },\n  { id: 61, value: 'X-Trail (с 2014)' },\n  { id: 62, value: 'Sentra (с 2014)' },\n]\n","const CURRENT_YEAR = new Date().getFullYear()\n\nfunction convertOldnessYearToReleaseYear(year) {\n  const diff = CURRENT_YEAR - year\n  return `${diff} год выпуска`\n}\n\nexport default [\n  { id: 1, value: `15000 км или ${convertOldnessYearToReleaseYear(1)}` },\n  { id: 2, value: `30000 км или ${convertOldnessYearToReleaseYear(2)}` },\n  { id: 3, value: `45000 км или ${convertOldnessYearToReleaseYear(3)}` },\n  { id: 4, value: `60000 км или ${convertOldnessYearToReleaseYear(4)}` },\n  { id: 5, value: `75000 км или ${convertOldnessYearToReleaseYear(5)}` },\n  { id: 6, value: `90000 км или ${convertOldnessYearToReleaseYear(6)}` },\n  { id: 7, value: `105000 км или ${convertOldnessYearToReleaseYear(7)}` },\n  { id: 8, value: `120000 км или ${convertOldnessYearToReleaseYear(8)}` },\n  { id: 9, value: `135000 км или ${convertOldnessYearToReleaseYear(9)}` },\n  { id: 10, value: `150000 км или ${convertOldnessYearToReleaseYear(10)}` },\n]\n","import { Alert } from '@vkontakte/vkui'\nimport Icon36Cancel from '@vkontakte/icons/dist/36/cancel'\nimport React from 'react'\nimport PropTypes from 'prop-types'\n\nfunction NetworkErrorAlert({ onRetry, onCancel }) {\n  const actions = [\n    {\n      title: 'Попробовать еще раз',\n      action: onRetry,\n    },\n    {\n      title: 'Отмена',\n      action: onCancel,\n      style: 'cancel',\n    },\n  ]\n  return (\n    <Alert actions={actions} actionsLayout=\"vertical\">\n      <Icon36Cancel style={{ color: 'red', margin: '0 auto' }} />\n      <p>\n        Упс, возникла проблема с сетью. Скорее всего Вы не подключены к\n        интернету.\n      </p>\n      <span>Подключитесь к интернету еще раз</span>\n    </Alert>\n  )\n}\n\nNetworkErrorAlert.propTypes = {\n  onRetry: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n}\n\nexport default NetworkErrorAlert\n","import React from 'react'\nimport {\n  Button,\n  Div,\n  Group,\n  Header,\n  List,\n  Panel,\n  ScreenSpinner,\n  View,\n} from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport PropTypes from 'prop-types'\nimport Icon24Delete from '@vkontakte/icons/dist/24/delete'\nimport SweetSelect from '../SweetSelect/SweetSelect'\nimport {\n  Indicator,\n  MoneyIndicator,\n  SummaryMoneyIndicator,\n} from '../Indicators/indicators'\nimport {\n  convertModifications,\n  convertResults,\n  doPostRequest,\n  isSafari,\n  sleep,\n} from '../helpers/helpers'\nimport PanelHeader from '../helpers/PanelHeader'\nimport { isProduction, reachGoal } from '../helpers/production_utils'\nimport mockModifications from '../_mocks_/modifications'\nimport mockCalculationResults from '../_mocks_/calculation_results'\nimport productionModels from '../data/models'\nimport productionOldnesses from '../data/oldnesses'\nimport NetworkErrorAlert from '../helpers/NetworkErrorAlert'\n\nfunction getDefaultSelectState(text) {\n  return {\n    model: { id: 0, text },\n    modification: { id: 0, text },\n    oldness: { id: 0, text },\n  }\n}\n\nconst defaultState = {\n  calculationResults: {\n    status: 'notSelected',\n    works: [],\n    materials: [],\n  },\n  popout: null,\n  modifications: [],\n  ...getDefaultSelectState('Выбрать'),\n}\n\nlet state = defaultState\n\nfunction reachModelSelectedGoal() {\n  reachGoal('selected-model')\n}\n\nfunction reachModificationSelectedGoal() {\n  reachGoal('selected-modification')\n}\n\nfunction reachOldnessSelectedGoal() {\n  reachGoal('selected-oldness')\n}\n\nfunction reachCtaClickGoal() {\n  reachGoal('open-send-request')\n}\n\nfunction convertFromSweetSelectToHomeItemsFormat(item) {\n  return {\n    id: item.id,\n    text: item.value,\n  }\n}\n\nfunction isHomeView(url) {\n  return url.includes('home')\n}\n\nfunction convertIdToHashLocation(id) {\n  return `#home/${id}`\n}\n\nfunction convertLocationToPanelId(url) {\n  return url.split('/', 2)[1]\n}\n\nasync function loadModifications(modelId) {\n  if (isProduction)\n    return (await doPostRequest(`/ajax/model.php`, {\n      ID: modelId,\n    })).data\n  await sleep(0.2)\n  return mockModifications\n}\n\nfunction pushHistoryItem(location) {\n  window.history.pushState({}, '', location)\n}\n\nasync function loadResults(model, modification, oldness) {\n  if (isProduction)\n    return (await doPostRequest(`/ajax/to.php`, {\n      SECTION: model,\n      TIME: oldness,\n      AUTO: modification,\n    })).data\n  await sleep(0.5)\n  return mockCalculationResults\n}\n\nclass Home extends React.Component {\n  static propTypes = {\n    onCtaClick: PropTypes.func.isRequired,\n    onBack: PropTypes.func,\n    showBackButton: PropTypes.bool.isRequired,\n    id: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    onBack: () => {},\n  }\n\n  ctaText = `Отправьте заявку, наши сотрудники свяжутся с Вами для записи на техническое обслуживание автомобиля Nissan`\n\n  models = productionModels\n\n  oldnesses = productionOldnesses\n\n  headerText = 'Расчет ТО Ниссан'\n\n  // had to suppress eslint cause we need this function in ctaButton property\n  // so it has to be declared before it.\n  // we need to remove it when ctaButton will be standalone component,\n  // and not just property\n  // eslint-disable-next-line react/sort-comp\n  onCtaClick = () => {\n    const { onCtaClick } = this.props\n    reachCtaClickGoal()\n    onCtaClick()\n  }\n\n  ctaButton = (\n    <Button stretched size=\"xl\" onClick={this.onCtaClick}>\n      Отправить заявку\n    </Button>\n  )\n\n  ctaComponent = (\n    <Div>\n      <p>{this.ctaText}</p>\n      {this.ctaButton}\n    </Div>\n  )\n\n  constructor(props) {\n    super(props)\n    this.state = state\n    const { id: viewId } = this.props\n    this.homePanelId = `${viewId}main`\n    state.activePanel = this.homePanelId\n    window.onpopstate = () => this.onPopHistoryState()\n\n    window.history.replaceState({}, '', `#${viewId}/${viewId}main`)\n  }\n\n  componentDidMount() {\n    this.setState({ ...state })\n  }\n\n  componentWillUnmount() {\n    ;({ state } = this)\n    const { calculationResults, model, modification, oldness } = this.state\n    window.onpopstate = window.basePopHistoryStateHandler\n    window.calculationResults = calculationResults\n    window.input = {\n      model,\n      modification,\n      oldness,\n    }\n  }\n\n  onPopHistoryState() {\n    const { hash } = window.location\n    if (!isHomeView(hash)) window.basePopHistoryStateHandler()\n    else this.viewPopStateHandler()\n  }\n\n  getPanelHeader = () => {\n    const { onBack, showBackButton } = this.props\n    return (\n      <PanelHeader\n        text={this.headerText}\n        onBackButtonClick={() => onBack()}\n        showBackButton={showBackButton}\n      />\n    )\n  }\n\n  get resultsStatus() {\n    const { calculationResults } = this.state\n    return calculationResults.status\n  }\n\n  getModelSelectIndicator() {\n    const { model } = this.state\n    return (\n      <Indicator\n        text=\"Модель авто\"\n        value={model.text}\n        onClick={() => this.changePanelAndPushHistoryState('chooseModel')}\n      />\n    )\n  }\n\n  getModificationSelectIndicator() {\n    const { modification } = this.state\n    return (\n      <Indicator\n        text=\"Модификация\"\n        value={modification.text}\n        onClick={() =>\n          this.changePanelAndPushHistoryState('chooseModification')\n        }\n      />\n    )\n  }\n\n  getOldnessSelectIndicator() {\n    const { oldness } = this.state\n    return (\n      <Indicator\n        text=\"Пробег или год выпуска\"\n        value={oldness.text}\n        onClick={() => this.changePanelAndPushHistoryState('chooseOldness')}\n      />\n    )\n  }\n\n  getSelectIndicatorList() {\n    return (\n      <List>\n        {this.getModelSelectIndicator()}\n        {Boolean(this.getSelectedModelId()) &&\n          this.getModificationSelectIndicator()}\n        {this.getOldnessSelectIndicator()}\n      </List>\n    )\n  }\n\n  getCalculationSelectGroup() {\n    return (\n      <Group>\n        {this.anySelected() && (\n          <Div>\n            <Button\n              size=\"xl\"\n              level=\"outline\"\n              className=\"reset-button\"\n              before={<Icon24Delete />}\n              onClick={this.resetAll}\n            >\n              <span>Сбросить все</span>\n            </Button>\n          </Div>\n        )}\n        <Header>\n          Рассчитайте стоимость технического обслуживания вашего Nissan:\n        </Header>\n        {this.getSelectIndicatorList()}\n      </Group>\n    )\n  }\n\n  getResultWorkGroup() {\n    const { calculationResults } = this.state\n    return (\n      <Group title=\"Работы\">\n        {calculationResults.works.map(({ name, price }) => (\n          <MoneyIndicator text={name} value={price} key={name} />\n        ))}\n        {\n          <SummaryMoneyIndicator\n            text=\"Всего по работам\"\n            value={this.getSummaryValue('works')}\n          />\n        }\n      </Group>\n    )\n  }\n\n  getResultMaterialGroup() {\n    const { calculationResults } = this.state\n    return (\n      <Group title=\"Материалы\">\n        {calculationResults.materials.map(({ name, price }) => (\n          <MoneyIndicator text={name} value={price} key={name} />\n        ))}\n\n        <SummaryMoneyIndicator\n          text=\"Всего по материалам\"\n          value={this.getSummaryValue('materials')}\n        />\n      </Group>\n    )\n  }\n\n  getSummaryValue(thing) {\n    const { calculationResults } = this.state\n    return calculationResults[thing].reduce(\n      (accumulator, currentValue) => accumulator + currentValue.price,\n      0\n    )\n  }\n\n  getResultSummaryGroup() {\n    return (\n      <Group>\n        <SummaryMoneyIndicator\n          text=\"Итого\"\n          value={\n            this.getSummaryValue('works') + this.getSummaryValue('materials')\n          }\n        />\n      </Group>\n    )\n  }\n\n  getCalculationResultGroups() {\n    return (\n      <div>\n        {this.resultsStatus === 'ready' && (\n          <div>\n            {this.getResultWorkGroup()}\n            {this.getResultMaterialGroup()}\n            {this.getResultSummaryGroup()}\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  setSelectValueAndTryToCalculateResults(key, item) {\n    this.setState(\n      { [key]: convertFromSweetSelectToHomeItemsFormat(item) },\n      this.tryToCalculateResults\n    )\n  }\n\n  getSelectedOldnessId() {\n    const { oldness } = this.state\n    return oldness.id\n  }\n\n  getSelectedModificationId() {\n    const { modification } = this.state\n    return modification.id\n  }\n\n  getSelectedModelId() {\n    const { model } = this.state\n    return model.id\n  }\n\n  getCalculationResults() {\n    if (this.resultsStatus === 'notSelected') return null\n    if (this.resultsStatus === 'ready') return this.getCalculationResultGroups()\n    throw new Error('invalid resultsStatus')\n  }\n\n  async setModifications(modelId) {\n    let modifications = await loadModifications(modelId)\n    modifications = convertModifications(modifications)\n    this.setState({ modifications })\n  }\n\n  setCalculationResults(results) {\n    this.removeAnyPopout()\n    this.setState({\n      calculationResults: {\n        status: 'ready',\n        ...results,\n      },\n    })\n  }\n\n  removeAnyPopout() {\n    this.setState({ popout: null })\n  }\n\n  showSpinner() {\n    this.setState({ popout: <ScreenSpinner /> })\n  }\n\n  allSelected() {\n    return (\n      this.getSelectedModelId() &&\n      this.getSelectedModificationId() &&\n      this.getSelectedOldnessId()\n    )\n  }\n\n  anySelected() {\n    return Boolean(\n      this.getSelectedModelId() ||\n        this.getSelectedModificationId() ||\n        this.getSelectedOldnessId()\n    )\n  }\n\n  changePanel(panelId) {\n    this.setState({ activePanel: panelId })\n  }\n\n  resetAll = () => {\n    const { popout } = this.state\n    this.setState({\n      ...defaultState,\n      popout,\n    })\n  }\n\n  async calculateResults() {\n    const { model, modification, oldness } = this.state\n    this.showSpinner()\n    let results\n    try {\n      results = await loadResults(model.id, modification.id, oldness.id)\n      results = convertResults(results)\n      this.setCalculationResults(results)\n      this.removeAnyPopout()\n    } catch (e) {\n      this.showNetworkErrorAlert(() => this.calculateResults())\n    }\n  }\n\n  async tryToCalculateResults() {\n    if (this.allSelected()) {\n      await this.calculateResults()\n    }\n  }\n\n  resetModification() {\n    this.setState({ modification: { id: 0, text: 'Выбрать' } })\n  }\n\n  changePanelAndPushHistoryState(panelId) {\n    pushHistoryItem(convertIdToHashLocation(panelId))\n    this.changePanel(panelId)\n  }\n\n  viewPopStateHandler() {\n    const { hash } = window.location\n    const panelId = convertLocationToPanelId(hash)\n    this.changePanel(panelId)\n  }\n\n  showNetworkErrorAlert(retryCallback) {\n    this.setState({\n      popout: (\n        <NetworkErrorAlert\n          onRetry={() => {\n            this.removeAnyPopout()\n            retryCallback()\n          }}\n          onCancel={() => this.removeAnyPopout()}\n        />\n      ),\n    })\n  }\n\n  onModelSelect = async (model) => {\n    this.showSpinner()\n    reachModelSelectedGoal()\n    this.resetModification()\n    try {\n      await this.setModifications(model.id)\n      await sleep(1.2) // hack: required to make vk ui change panels nicely\n      this.removeAnyPopout()\n      this.changePanelAndPushHistoryState('chooseModification')\n      this.setSelectValueAndTryToCalculateResults('model', model)\n    } catch (e) {\n      this.showNetworkErrorAlert(() => this.onModelSelect(model))\n    }\n  }\n\n  onModificationSelect = async (modification) => {\n    reachModificationSelectedGoal()\n    this.setSelectValueAndTryToCalculateResults('modification', modification)\n    if (!this.getSelectedOldnessId()) {\n      this.showSpinner()\n      await sleep(1.2) // hack: required to make vk ui change panels nicely\n      this.removeAnyPopout()\n      this.changePanelAndPushHistoryState('chooseOldness')\n    }\n  }\n\n  goBack = () => {\n    if (isSafari()) this.changePanel(this.homePanelId)\n    else window.history.back()\n  }\n\n  render() {\n    const { id: viewId } = this.props\n    const { activePanel, popout, modifications } = this.state\n    return (\n      <View id={viewId} activePanel={activePanel} header popout={popout}>\n        <Panel id={this.homePanelId}>\n          {this.getPanelHeader()}\n          {this.getCalculationSelectGroup()}\n          {this.getCalculationResults()}\n          {this.ctaComponent}\n        </Panel>\n        <SweetSelect\n          id=\"chooseModel\"\n          backClickHandler={this.goBack}\n          header=\"Модель\"\n          items={this.models}\n          onSelect={this.onModelSelect}\n        />\n        <SweetSelect\n          id=\"chooseModification\"\n          backClickHandler={this.goBack}\n          header=\"Модификация\"\n          items={modifications}\n          onSelect={this.onModificationSelect}\n        />\n        <SweetSelect\n          id=\"chooseOldness\"\n          backClickHandler={this.goBack}\n          header=\"Пробег или год\"\n          items={this.oldnesses}\n          onSelect={(item) => {\n            reachOldnessSelectedGoal()\n            this.setSelectValueAndTryToCalculateResults('oldness', item)\n          }}\n        />\n      </View>\n    )\n  }\n}\n\nexport default Home\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Input } from '@vkontakte/vkui'\n\nfunction normalizeName(name) {\n  return (\n    name\n      // remove any non-(letter or space)\n      .replace(/[^A-Za-zА-Яa-я ]/g, '')\n      // allow 1 space in the center or end\n      .replace(/ {2,}/, ' ')\n      .trimLeft()\n  )\n}\n\nfunction NameInput({ onChange, value }) {\n  const _onChange = (newValue) => onChange(normalizeName(newValue))\n  return (\n    <Input\n      type=\"text\"\n      placeholder=\"Иван\"\n      onChange={(e) => _onChange(e.target.value)}\n      value={value || ''}\n      maxLength=\"35\"\n    />\n  )\n}\n\nNameInput.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string,\n}\n\nNameInput.defaultProps = {\n  value: '',\n}\n\nexport default NameInput\n","import React from 'react'\nimport { Input } from '@vkontakte/vkui'\nimport { AsYouType } from 'libphonenumber-js'\nimport PropTypes from 'prop-types'\nimport { getInfoFromVKConnect } from './helpers'\n\nfunction getPhoneInfo() {\n  return getInfoFromVKConnect('VKWebAppGetPhoneNumber')\n}\n\nfunction getPlainNumberredValue(value) {\n  return value.replace(/[^0-9]/g, '')\n}\n\nfunction getPlainNumberredValueWithPlus(value) {\n  return `+${getPlainNumberredValue(value)}`\n}\n\nfunction format(string) {\n  let localString = string\n  if (localString !== '')\n    localString = getPlainNumberredValueWithPlus(localString)\n  const formatter = new AsYouType('RU')\n  return formatter.input(localString)\n}\n\nfunction valueIsNice(value) {\n  const maxRussianPhoneLength = 11\n  const maxBelorussianPhoneLength = 12\n  const numbers = getPlainNumberredValue(value)\n  const isBelorussianPhone = numbers.startsWith('375')\n  if (isBelorussianPhone) return numbers.length <= maxBelorussianPhoneLength\n  return numbers.length <= maxRussianPhoneLength\n}\n\nlet state = {\n  value: '',\n  requestedPhone: false,\n}\n\nclass PhoneInput extends React.Component {\n  static propTypes = {\n    placeholder: PropTypes.string,\n    onChange: PropTypes.func.isRequired,\n    className: PropTypes.string,\n    shouldRequestPhone: PropTypes.bool,\n    onPhoneRequest: PropTypes.func,\n  }\n\n  static defaultProps = {\n    placeholder: '',\n    className: '',\n    shouldRequestPhone: false,\n    onPhoneRequest: () => {},\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = state\n  }\n\n  componentDidMount() {\n    this.setState(state)\n  }\n\n  componentWillUnmount() {\n    ;({ state } = this)\n  }\n\n  onChange({ target }) {\n    this.changeValue(target.value)\n  }\n\n  async onClick() {\n    const { shouldRequestPhone, onPhoneRequest } = this.props\n    if (shouldRequestPhone) {\n      if (onPhoneRequest) onPhoneRequest()\n      try {\n        const { phone_number: phoneNumber } = await getPhoneInfo()\n        this.changeValue(`+${phoneNumber}`)\n      } catch (e) {} // eslint-disable-line no-empty\n    }\n  }\n\n  changeValue(value) {\n    const { onChange } = this.props\n    if (valueIsNice(value)) {\n      const formattedValue = format(value)\n      this.setState({ value: formattedValue })\n      onChange(getPlainNumberredValueWithPlus(value))\n    }\n  }\n\n  render() {\n    const { className, placeholder } = this.props\n    const { value } = this.state\n    return (\n      <Input\n        type=\"tel\"\n        placeholder={format(placeholder)}\n        onChange={(e) => this.onChange(e)}\n        value={value}\n        className={className}\n        onClick={(e) => this.onClick(e)}\n      />\n    )\n  }\n}\n\nexport default PhoneInput\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Button, FormLayout, Group } from '@vkontakte/vkui'\nimport NameInput from '../helpers/NameInput/NameInput'\nimport PhoneInput from '../helpers/PhoneInput'\n\nlet state = {\n  name: '',\n  phone: '',\n  phoneNotValid: false,\n  shouldRequestPhone: true,\n}\n\nfunction removePlus(phone) {\n  return phone.replace(/[^0-91]/g, '')\n}\n\nfunction formIsValid(phone) {\n  const phoneNumbers = removePlus(phone)\n  return phoneNumbers.length >= 7\n}\n\nclass SendRequestForm extends Component {\n  constructor(props) {\n    super(props)\n    this.state = state\n  }\n\n  componentDidMount() {\n    const { name } = this.state\n    const { initialName } = this.props\n    this.setState({\n      ...state,\n      shouldRequestPhone: true,\n      name: name || initialName,\n    })\n  }\n\n  componentWillUnmount() {\n    ;({ state } = this)\n  }\n\n  onPhoneRequest = () => {\n    this.setState({ shouldRequestPhone: false })\n  }\n\n  validateAndShowErrorsAndSendForm() {\n    const { sendRequest } = this.props\n    const { name, phone } = this.state\n    if (formIsValid(phone)) sendRequest(name, phone)\n    else this.setState({ phoneNotValid: true })\n  }\n\n  render() {\n    const { name, phoneNotValid, shouldRequestPhone } = this.state\n    return (\n      <Group>\n        <FormLayout>\n          <NameInput\n            top=\"Имя\"\n            onChange={(value) => this.setState({ name: value })}\n            value={name}\n          />\n          <PhoneInput\n            top=\"Номер телефона\"\n            placeholder=\"+79211234567\"\n            onChange={(value) => {\n              this.setState({ phoneNotValid: false })\n              return this.setState({ phone: value })\n            }}\n            bottom={phoneNotValid ? 'Неверный телефон' : ''}\n            status={phoneNotValid ? 'error' : 'default'}\n            shouldRequestPhone={shouldRequestPhone}\n            onPhoneRequest={this.onPhoneRequest}\n          />\n          <Button\n            level=\"commerce\"\n            size=\"xl\"\n            onClick={() => this.validateAndShowErrorsAndSendForm()}\n          >\n            Отправить заявку\n          </Button>\n        </FormLayout>\n      </Group>\n    )\n  }\n}\n\nSendRequestForm.propTypes = {\n  sendRequest: PropTypes.func.isRequired,\n  initialName: PropTypes.string,\n}\n\nSendRequestForm.defaultProps = {\n  initialName: '',\n}\n\nexport default SendRequestForm\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Panel, ScreenSpinner, View, Alert } from '@vkontakte/vkui'\nimport axios from 'axios'\nimport PanelHeader from '../helpers/PanelHeader'\nimport {\n  reachGoal,\n  isProduction,\n  getRecaptchaToken,\n} from '../helpers/production_utils'\nimport NetworkErrorAlert from '../helpers/NetworkErrorAlert'\nimport SendRequestForm from './SendRequestForm'\n\nfunction getInput(text) {\n  if (text === 'Выбрать') return ''\n  return text\n}\n\nfunction getAllInput() {\n  // fixme: window????\n  const model = getInput(window.input.model.text)\n  const modification = getInput(window.input.modification.text)\n  const oldness = getInput(window.input.oldness.text)\n  return { model, modification, oldness }\n}\n\nfunction getCalculationResults() {\n  // fixme: window? save everything in local var\n  const works = JSON.stringify(window.calculationResults.works)\n  const materials = JSON.stringify(window.calculationResults.materials)\n  return { works, materials }\n}\n\nfunction reachSentManualRequestGoal() {\n  reachGoal('sent-manual-request')\n}\n\nasync function sendRequest(name, phone, recaptchaToken) {\n  const { model, modification, oldness } = getAllInput()\n  const { works, materials } = getCalculationResults()\n  const url = isProduction ? 'request.php' : 'https://dimadk.tk/dev_request.php'\n  const { status, data } = await axios.get(url, {\n    params: {\n      model,\n      modification,\n      oldness,\n      works,\n      materials,\n      name,\n      phone,\n      recaptcha_token: recaptchaToken,\n    },\n  })\n  if (!status === 200) throw new Error('Network error')\n  return data\n}\n\nexport default class SendRequestView extends Component {\n  static propTypes = {\n    onBack: PropTypes.func.isRequired,\n    id: PropTypes.string.isRequired,\n    onSentRequest: PropTypes.func.isRequired,\n    username: PropTypes.string.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      popout: null,\n    }\n  }\n\n  componentDidMount() {\n    this.requestedPhone = false\n  }\n\n  sendRequest = async (name, phone) => {\n    const { onSentRequest } = this.props\n    this.showSpinner()\n    try {\n      const recaptchaToken = await getRecaptchaToken()\n      const { ok, error } = await sendRequest(name, phone, recaptchaToken)\n      this.removeAnyPopout()\n      if (!ok) {\n        if (error !== 'too-many-requests') this.setState({ error })\n        // why not throwing locally? Well, Sentry catches exception anyway.\n        // But componentDidCatch in ErrorBoundary catches exceptions only in:\n        // constructors, render methods and lifecycle hooks.\n        // But not in onClicks and so on.\n        // So to catch exception in onClick and show nice error view\n        // we need to use such a hack :(\n        // Another way our nice error view wouldn't be shown to user\n        else\n          this.setState({\n            popout: (\n              <Alert\n                onClose={this.setState({ popout: null })}\n                actions={[\n                  {\n                    title: 'Написать',\n                    action: () => window.open('//vk.me/ya.service.nissan'),\n                  },\n                  {\n                    title: 'Отмена',\n                    action: () => this.setState({ popout: null }),\n                    style: 'cancel',\n                  },\n                ]}\n              >\n                <p>\n                  Ваши предыдущие заявки получены. Если Вы хотите уточнить их,\n                  напишите нам\n                </p>\n              </Alert>\n            ),\n          })\n      } else {\n        reachSentManualRequestGoal()\n        onSentRequest()\n      }\n    } catch (e) {\n      this.showNetworkErrorAlert(() => this.validateAndShowErrorsAndSendForm())\n    }\n  }\n\n  showNetworkErrorAlert(retryCallback) {\n    this.setState({\n      popout: (\n        <NetworkErrorAlert\n          onRetry={() => {\n            this.removeAnyPopout()\n            retryCallback()\n          }}\n          onCancel={() => this.removeAnyPopout()}\n        />\n      ),\n    })\n  }\n\n  removeAnyPopout() {\n    this.setState({\n      popout: null,\n    })\n  }\n\n  showSpinner() {\n    this.setState({ popout: <ScreenSpinner /> })\n  }\n\n  render() {\n    const { id: viewId, onBack, username } = this.props\n    const { popout, error } = this.state\n    if (error) throw new Error(error)\n    const panelId = `${viewId}main`\n    return (\n      <View id={viewId} activePanel={panelId} header popout={popout}>\n        <Panel id={panelId}>\n          <PanelHeader onBackButtonClick={onBack} text=\"Отправить заявку\" />\n          <SendRequestForm\n            sendRequest={this.sendRequest}\n            initialName={username}\n          />\n        </Panel>\n      </View>\n    )\n  }\n}\n","import React from 'react'\nimport { Button, Div, Group, Panel, PanelHeader, View } from '@vkontakte/vkui'\nimport PropTypes from 'prop-types'\nimport logo from '../logo.png'\nimport './StartView.css'\nimport { reachGoal } from '../helpers/production_utils'\n\nfunction reachStatisticGoal() {\n  reachGoal('open-home')\n}\n\nclass StartView extends React.Component {\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n    onGoHome: PropTypes.func.isRequired,\n    username: PropTypes.string.isRequired,\n  }\n\n  headerText = 'Расчет ТО Nissan в СПб'\n\n  constructor(props) {\n    super(props)\n    const { id: viewId } = this.props\n    this.state = {\n      activePanel: `${viewId}main`,\n    }\n  }\n\n  onGoHome = () => {\n    reachStatisticGoal()\n    const { onGoHome } = this.props\n    onGoHome()\n  }\n\n  getGreeting() {\n    const { username: name } = this.props\n    const greetingPhrase = 'Здравствуйте'\n    const greeting = name ? `${greetingPhrase}, ${name}!` : `${greetingPhrase}!`\n    return <p>{greeting} Вы из СПб и у вас Nissan?</p>\n  }\n\n  render() {\n    const { id: viewId } = this.props\n    const { activePanel } = this.state\n    const panelId = `${viewId}main`\n    return (\n      <View id={viewId} activePanel={activePanel}>\n        <Panel id={panelId}>\n          <PanelHeader>{this.headerText}</PanelHeader>\n          <Group>\n            <Div>\n              <div className=\"centerring-wrapper\">\n                <img src={logo} alt=\"Логотип Я Сервис\" />\n              </div>\n              <div>\n                {this.getGreeting()}\n                <p>\n                  Выберите свой автомобиль Nissan и узнайте стоимость\n                  обслуживания согласно пробегу или году выпуска\n                </p>\n              </div>\n              <Button stretched size=\"xl\" onClick={this.onGoHome}>\n                Рассчитать стоимость ТО\n              </Button>\n            </Div>\n          </Group>\n        </Panel>\n      </View>\n    )\n  }\n}\n\nexport default StartView\n","import React from 'react'\nimport Raven from 'raven-js'\nimport PropTypes from 'prop-types'\nimport IconMoreHorizontal from '@vkontakte/icons/dist/16/more_horizontal'\nimport errorSmile from './error_smile.png'\nimport './ErrorBoundary.css'\n\nclass ErrorBoundary extends React.Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { error: null }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({ error })\n    Raven.captureException(error, { extra: errorInfo })\n  }\n\n  render() {\n    const { error } = this.state\n    const { children } = this.props\n    if (error) {\n      return (\n        <div className=\"error-wrapper\">\n          <img src={errorSmile} alt=\"Ошибка!\" />\n          <h2>Похоже, приложение сломалось</h2>\n          <span>Наша команда уже знает об ошибке</span>\n          <span>Попробуйте перезапустить приложение:</span>\n          <ul className=\"error-wrapper__list\">\n            <li className=\"error-wrapper__three-dots-text-wrapper\">\n              Нажмите на <IconMoreHorizontal /> в правом верхнем углу\n            </li>\n            <li>Нажмите на пункт «Очистить кэш»</li>\n            <li>\n              Или просто{' '}\n              <a\n                className=\"error-wrapper__link\"\n                href=\"https://vk.me/ya.service.nissan\"\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n              >\n                расскажите нам об ошибке\n              </a>\n            </li>\n          </ul>\n        </div>\n      )\n    }\n    return children\n  }\n}\n\nexport default ErrorBoundary\n","import { Button, Cell, Group, Panel, View } from '@vkontakte/vkui'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport PanelHeader from '../helpers/PanelHeader'\nimport { reachGoal } from '../helpers/production_utils'\nimport './ThankYouView.css'\n\nclass ThankYouView extends React.Component {\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n    onBack: PropTypes.func.isRequired,\n  }\n\n  onGoToPublic = () => {\n    reachGoal('open-vk-public')\n    return true\n  }\n\n  render() {\n    const { id: viewId, onBack } = this.props\n    const panelId = `${viewId}main`\n    return (\n      <View id={viewId} activePanel={panelId}>\n        <Panel id={panelId}>\n          <PanelHeader onBackButtonClick={() => onBack()} text=\"Спасибо\" />\n          <Group>\n            <Cell multiline>\n              <div>Спасибо!</div>\n              <div>Наш менеджер свяжется с Вами в ближайшее время.</div>\n            </Cell>\n            <Cell multiline>\n              <span className=\"thank-you-view__visit-group-text\">\n                А пока зайдите в наше сообщество ВКонтакте\n              </span>\n              <Button\n                component=\"a\"\n                href=\"//vk.com/ya.service.nissan\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                onClick={this.onGoToPublic}\n                level=\"commerce\"\n                stretched\n                size=\"xl\"\n                style={{ marginTop: '15px' }}\n              >\n                Перейти\n              </Button>\n            </Cell>\n          </Group>\n        </Panel>\n      </View>\n    )\n  }\n}\n\nexport default ThankYouView\n","import React, { Component } from 'react'\nimport * as VKConnect from '@vkontakte/vkui-connect'\nimport { Root } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport Home from './Home/Home'\nimport SendRequestView from './SendRequestView/SendRequestView'\nimport StartView from './StartView/StartView'\nimport ErrorBoundary from './helpers/ErrorBoundary/ErrorBoundary'\nimport ThankYouView from './ThankYouView/ThankYouView'\nimport { getUserInfo, isSafari } from './helpers/helpers'\n\nasync function getUserName() {\n  return (await getUserInfo()).first_name\n}\n\nfunction setStartHistoryState() {\n  window.history.replaceState({}, '', '#start')\n}\n\nfunction convertHashLocationToId(hash) {\n  return hash.slice(1).split('/', 1)[0]\n}\n\nfunction pushHistoryItem(location) {\n  window.history.pushState({}, '', location)\n}\n\nfunction convertIdToHashLocation(id) {\n  return `#${id}`\n}\n\nclass App extends Component {\n  static isOpenedAppFirstTime() {\n    const KEY = 'oldUser'\n    const isOldUser = Boolean(localStorage.getItem(KEY))\n    if (isOldUser) return false\n    localStorage.setItem(KEY, String(true))\n    return true\n  }\n\n  constructor(props) {\n    super(props)\n    const showStartView = App.isOpenedAppFirstTime()\n    const startView = showStartView ? 'start' : 'home'\n    this.state = {\n      activeView: startView,\n      username: '',\n      showStartView,\n    }\n    setStartHistoryState()\n    this.setGlobalHistoryStateHandler()\n    this.setOnPopStateEventHandler()\n  }\n\n  async componentDidMount() {\n    VKConnect.send('VKWebAppInit', {})\n    const name = await getUserName()\n    this.setUserName(name)\n  }\n\n  onPopHistoryState() {\n    const { hash } = window.location\n    const viewId = convertHashLocationToId(hash)\n    this.changeView(viewId)\n  }\n\n  setOnPopStateEventHandler() {\n    window.onpopstate =\n      window.basePopHistoryStateHandler || (() => this.onPopHistoryState())\n  }\n\n  setGlobalHistoryStateHandler() {\n    window.basePopHistoryStateHandler = () => this.onPopHistoryState()\n  }\n\n  setUserName(username) {\n    this.setState({ username })\n  }\n\n  goBackTo = (viewId) => {\n    if (isSafari()) this.changeView(viewId)\n    else window.history.back()\n  }\n\n  changeView(viewId) {\n    this.setState({ activeView: viewId })\n  }\n\n  goHome() {\n    this.changeViewAndPushHistoryItem('home')\n  }\n\n  goToThankYouView() {\n    this.changeViewAndPushHistoryItem('thank-you')\n  }\n\n  goToSendRequest() {\n    this.changeViewAndPushHistoryItem('sendRequest')\n  }\n\n  changeViewAndPushHistoryItem(viewId) {\n    pushHistoryItem(convertIdToHashLocation(viewId))\n    this.changeView(viewId)\n  }\n\n  render() {\n    const { username, activeView, showStartView } = this.state\n    return (\n      <ErrorBoundary>\n        <Root activeView={activeView}>\n          <StartView\n            id=\"start\"\n            onGoHome={() => this.goHome()}\n            username={username}\n          />\n          <Home\n            id=\"home\"\n            onCtaClick={() => this.goToSendRequest()}\n            onBack={() => this.goBackTo('start')}\n            showBackButton={showStartView}\n          />\n          <SendRequestView\n            id=\"sendRequest\"\n            onBack={() => this.goBackTo('home')}\n            onSentRequest={() => this.goToThankYouView()}\n            username={username}\n          />\n          <ThankYouView\n            id=\"thank-you\"\n            onBack={() => this.goBackTo('sendRequest')}\n          />\n        </Root>\n      </ErrorBoundary>\n    )\n  }\n}\n\nexport default App\n","/* eslint-disable */\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.')\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          )\n        })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      }\n    })\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { AppContainer } from 'react-hot-loader'\nimport * as VKConnect from '@vkontakte/vkui-connect'\nimport App from './App'\nimport { unregister } from './sw'\nimport { isProduction, initProductionUtils } from './helpers/production_utils'\n\nif (isProduction) initProductionUtils()\n\nconst root = document.getElementById('root')\n// Render\nconst render = (Component) => {\n  ReactDOM.render(\n    <AppContainer>\n      <Component />\n    </AppContainer>,\n    root\n  )\n}\n\n// Init VK App\nVKConnect.send('VKWebAppInit', {})\n\nrender(App)\n\n// unregister service worker\nunregister()\n\n// Hot Reload\nif (module.hot) {\n  module.hot.accept('./App', () => {\n    render(App)\n  })\n}\n"],"sourceRoot":""}