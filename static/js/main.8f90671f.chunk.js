(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,n){e.exports=n.p+"static/media/logo.4d10b61e.png"},41:function(e,t){e.exports="data:image/png;base64,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"},44:function(e,t,n){e.exports=n(96)},67:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),i=n.n(o),c=n(42),u=n(15),s=n.n(u),l=n(2),d=n.n(l),h=n(4),p=n(5),m=n(7),v=n(6),f=n(8),E=n(13),y=n(1),w=(n(28),n(18)),k=n(16),S=n(35),C=n.n(S),A=n(25),b=n.n(A),g=n(36),P=n.n(g);var x=function(){return Object(y.platform)()===y.IOS?r.a.createElement(P.a,null):r.a.createElement(b.a,null)};function R(e){var t=e.panelHeaderProps,n=e.onBackButtonClick,a=e.text;return r.a.createElement(y.PanelHeader,Object.assign({},t,{left:r.a.createElement(y.HeaderButton,{onClick:n},r.a.createElement(x,null))}),a)}function O(e,t){var n=t.shouldLowerCase,a=e.trimLeft();return n&&(a=a.toLowerCase()),a}R.defaultProps={panelHeaderProps:{}};var j=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).notFoundComponent=r.a.createElement(y.Div,{style:{textAlign:"center"}},r.a.createElement("p",null,"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")),n.state={searchText:""},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"onSearchChange",value:function(e){var t=O(e,{shouldLowerCase:!1});this.setState({searchText:t})}},{key:"render",value:function(){var e=this,t=this.state.searchText,n=this.props,a=n.id,o=n.backClickHandler,i=n.header,c=n.onSelect;return r.a.createElement(y.Panel,{id:a},r.a.createElement(R,{onBackButtonClick:function(){return o()},text:i,panelHeaderProps:{noShadow:!0}}),r.a.createElement(y.Search,{onChange:function(t){return e.onSearchChange(t)},value:t,maxLength:35}),this.items.length>0&&r.a.createElement(y.List,null,this.items.map(function(e){return r.a.createElement(y.Cell,{key:e.id,onClick:function(){o(),c(e)}},e.value)})),!this.items.length&&this.notFoundComponent)}},{key:"items",get:function(){var e=this.state.searchText,t=this.props.items,n=O(e,{shouldLowerCase:!0});return t.filter(function(e){return O(e.value,{shouldLowerCase:!0}).includes(n)})}}]),t}(r.a.Component);n(67);function I(e){var t=e.text,n=e.value,a=e.additionalClassesAsStr;return r.a.createElement(N,{text:t,value:"".concat(n," \u0440\u0443\u0431"),additionalClassesAsStr:"money ".concat(a||"")})}function M(e){var t=e.text,n=e.value;return r.a.createElement(I,{text:t,value:n,additionalClassesAsStr:"summary"})}function N(e){var t=e.text,n=e.value,a=e.onClick,o=e.additionalClassesAsStr;return r.a.createElement(y.Cell,{onClick:a&&function(){return a()}},r.a.createElement("div",{className:"indicator ".concat(o||"")},r.a.createElement("div",{className:"text-wrapper"},r.a.createElement("span",null,t)),r.a.createElement("div",{className:"value-wrapper"},r.a.createElement("span",{className:"value"},n))))}I.defaultProps={additionalClassesAsStr:""},N.defaultProps={onClick:function(){},additionalClassesAsStr:""};var V=n(26),T=n(19),H=n.n(T);function B(e){return Number.parseInt(e,10)||0}function L(e){return"---"===e?"":e}function G(e){var t={works:[],materials:[]};return e.forEach(function(e){var n=function(e){return{name:L(e.MATERIAL_NAME),price:B(e.MATERIAL_PRICE)}}(e);n.name&&t.materials.push(n);var a=function(e){return{name:L(e.SERVICE_NAME),price:B(e.SERVICE_PRICE)}}(e);a.name&&t.works.push(a)}),t}function q(e,t){return e.type===t}function z(e){return new Promise(function(t,n){s.a.subscribe(function a(r){var o=r.detail;q(o,"".concat(e,"Result"))?(s.a.unsubscribe(a),t(o.data)):q(o,"".concat(e,"Failed"))&&(s.a.unsubscribe(a),n(o.data))}),s.a.send(e,{})})}function D(e){return Object.entries(e).map(function(e){var t=Object(V.a)(e,2),n=t[0],a=t[1];return{id:parseInt(n,10),value:a}})}function U(e,t){var n=new URLSearchParams;return Object.entries(t).forEach(function(e){var t=Object(V.a)(e,2),a=t[0],r=t[1];n.append(a,r)}),H.a.post(e,n)}function F(e){return new Promise(function(t){setTimeout(t,1e3*e)})}var Y=n(20),W=n.n(Y),_=Boolean(parseInt("0",10)),Q='\n    <noscript>\n        <div><img src="https://mc.yandex.ru/watch/50376901" style="position:absolute; left:-9999px;" alt="" /></div>\n    </noscript>\n';function J(e){if(_)try{window.yaCounter50376901.reachGoal(e)}catch(t){console.warn("Tried to reach goal ".concat(e,", but Yandex.Metrika is blocked or removed"))}}var X={67223:"1.6\u043b., \u0431\u0435\u043d\u0437\u0438\u043d, 117 \u043b.\u0441., CVT",67271:"1.6\u043b., \u0442\u0443\u0440\u0431\u043e, \u0431\u0435\u043d\u0437\u0438\u043d, 200 \u043b.\u0441., 4\u04452 \u041c\u041a\u041f\u041f",67272:"1.6\u043b., \u0431\u0435\u043d\u0437\u0438\u043d, 117 \u043b.\u0441., \u041c\u041a\u041f\u041f",67273:"1.6\u043b., \u0442\u0443\u0440\u0431\u043e, \u0431\u0435\u043d\u0437\u0438\u043d, 200 \u043b.\u0441., 4\u04454 CVT"},K=[{SERVICE_NAME:"\u0417\u0430\u043c\u0435\u043d\u0430 \u043c\u043e\u0442\u043e\u0440\u043d\u043e\u0433\u043e \u043c\u0430\u0441\u043b\u0430 (\u0431\u0435\u0437 \u0441\u043d\u044f\u0442\u0438\u044f \u0437\u0430\u0449\u0438\u0442\u044b \u0414\u0412\u0421)",SERVICE_PRICE:"600",MATERIAL_NAME:"\u041c\u043e\u0442\u043e\u0440\u043d\u043e\u0435 \u043c\u0430\u0441\u043b\u043e 5\u043b.",MATERIAL_PRICE:"2250"},{SERVICE_NAME:"\u0417\u0430\u043c\u0435\u043d\u0430 \u043c\u0430\u0441\u043b\u044f\u043d\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430 (\u0431\u0435\u0437 \u0441\u043d\u044f\u0442\u0438\u044f \u0437\u0430\u0449\u0438\u0442\u044b \u0414\u0412\u0421)",SERVICE_PRICE:"---",MATERIAL_NAME:"\u041c\u0430\u0441\u043b\u044f\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440",MATERIAL_PRICE:"450"},{SERVICE_NAME:"\u0417\u0430\u043c\u0435\u043d\u0430 \u043f\u0440\u043e\u043a\u043b\u0430\u0434\u043a\u0438 \u0441\u043b\u0438\u0432\u043d\u043e\u0439 \u043f\u0440\u043e\u0431\u043a\u0438",SERVICE_PRICE:"---",MATERIAL_NAME:"\u041f\u0440\u043e\u043a\u043b\u0430\u0434\u043a\u0430 \u0441\u043b\u0438\u0432\u043d\u043e\u0439 \u043f\u0440\u043e\u0431\u043a\u0438",MATERIAL_PRICE:"50"},{SERVICE_NAME:"\u0417\u0430\u043c\u0435\u043d\u0430 \u0432\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430",SERVICE_PRICE:"300",MATERIAL_NAME:"\u0412\u043e\u0437\u0434\u0443\u0448\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440",MATERIAL_PRICE:"450"},{SERVICE_NAME:"\u0417\u0430\u043c\u0435\u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u0432\u0435\u043d\u0442\u0438\u043b\u044f\u0446\u0438\u0438 \u0441\u0430\u043b\u043e\u043d\u0430",SERVICE_PRICE:"400",MATERIAL_NAME:"\u0424\u0438\u043b\u044c\u0442\u0440 \u0432\u0435\u043d\u0442\u0438\u043b\u044f\u0446\u0438\u0438 \u0441\u0430\u043b\u043e\u043d\u0430",MATERIAL_PRICE:"400"},{SERVICE_NAME:"C\u043c\u0430\u0437\u043a\u0430 \u043f\u0435\u0442\u0435\u043b\u044c, \u0437\u0430\u043c\u043a\u043e\u0432",SERVICE_PRICE:"100",MATERIAL_NAME:"---",MATERIAL_PRICE:"---"},{SERVICE_NAME:"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 (\u0432\u0441\u0435\u0445 \u0441\u0438\u0441\u0442\u0435\u043c, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u0443\u044e, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u0440\u043e\u0441\u0441\u0435\u043b\u044c\u043d\u043e\u0439 \u0437\u0430\u0441\u043b\u043e\u043d\u043a\u0438)",SERVICE_PRICE:"1490",MATERIAL_NAME:"---",MATERIAL_PRICE:"---"}],Z=[{id:43,value:"Almera Classic (2006-2013)"},{id:44,value:"Almera New (\u0441 2012)"},{id:45,value:"Juke (\u0441 2011)"},{id:46,value:"Micra (\u0441 2002)"},{id:47,value:"Murano (2008-2015)"},{id:48,value:"Murano (\u0441 2015)"},{id:49,value:"Navara (\u0441 2010)"},{id:50,value:"Note (2006-2014)"},{id:51,value:"Pathfinder (2010-2013)"},{id:52,value:"Pathfinder (\u0441 2013)"},{id:53,value:"Qashqai (2006-2013)"},{id:54,value:"Qashqai (\u0441 2013)"},{id:55,value:"Teana (2008-2013)"},{id:56,value:"Teana (\u0441 2013)"},{id:57,value:"Terrano (\u0441 2013)"},{id:58,value:"Tiida (2004-2015)"},{id:60,value:"X-Trail (2010-2014)"},{id:61,value:"X-Trail (\u0441 2014)"},{id:62,value:"Sentra (\u0441 2014)"}];function $(e){return"".concat(2019-e," \u0433\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430")}var ee=[{id:1,value:"15000 \u043a\u043c \u0438\u043b\u0438 ".concat($(1))},{id:2,value:"30000 \u043a\u043c \u0438\u043b\u0438 ".concat($(2))},{id:3,value:"45000 \u043a\u043c \u0438\u043b\u0438 ".concat($(3))},{id:4,value:"60000 \u043a\u043c \u0438\u043b\u0438 ".concat($(4))},{id:5,value:"75000 \u043a\u043c \u0438\u043b\u0438 ".concat($(5))},{id:6,value:"90000 \u043a\u043c \u0438\u043b\u0438 ".concat($(6))},{id:7,value:"105000 \u043a\u043c \u0438\u043b\u0438 ".concat($(7))},{id:8,value:"120000 \u043a\u043c \u0438\u043b\u0438 ".concat($(8))},{id:9,value:"135000 \u043a\u043c \u0438\u043b\u0438 ".concat($(9))},{id:10,value:"150000 \u043a\u043c \u0438\u043b\u0438 ".concat($(10))}],te=n(37),ne=n.n(te);var ae=function(e){var t=[{title:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437",action:e.onRetry},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",action:e.onCancel,style:"cancel"}];return r.a.createElement(y.Alert,{actions:t,actionsLayout:"vertical"},r.a.createElement(ne.a,{style:{color:"red",margin:"0 auto"}}),r.a.createElement("p",null,"\u0423\u043f\u0441, \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u0435\u0442\u044c\u044e. \u0421\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e \u0412\u044b \u043d\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443."),r.a.createElement("span",null,"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u0441\u044c \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443 \u0435\u0449\u0435 \u0440\u0430\u0437"))};var re,oe=Object(k.a)({calculationResults:{status:"notSelected",works:[],materials:[]},popout:null,modifications:[]},{model:{id:0,text:re="\u0412\u044b\u0431\u0440\u0430\u0442\u044c"},modification:{id:0,text:re},oldness:{id:0,text:re}}),ie=oe;function ce(){window.history.back()}function ue(e){return se.apply(this,arguments)}function se(){return(se=Object(E.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=4;break}return e.next=3,U("/ajax/model.php",{ID:t});case 3:return e.abrupt("return",e.sent.data);case 4:return e.next=6,F(.2);case 6:return e.abrupt("return",X);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(e,t,n){return de.apply(this,arguments)}function de(){return(de=Object(E.a)(d.a.mark(function e(t,n,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=4;break}return e.next=3,U("/ajax/to.php",{SECTION:t,TIME:a,AUTO:n});case 3:return e.abrupt("return",e.sent.data);case 4:return e.next=6,F(.5);case 6:return e.abrupt("return",K);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var he=function(e){function t(e){var n;Object(h.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).ctaText="\u041e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u044f\u0432\u043a\u0443, \u043d\u0430\u0448\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u0441\u0432\u044f\u0436\u0443\u0442\u0441\u044f \u0441 \u0412\u0430\u043c\u0438 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u043d\u0430 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f Nissan",n.models=Z,n.oldnesses=ee,n.headerText="\u0420\u0430\u0441\u0447\u0435\u0442 \u0422\u041e \u041d\u0438\u0441\u0441\u0430\u043d",n.onCtaClick=function(){var e=n.props.onCtaClick;J("open-send-request"),e()},n.ctaButton=r.a.createElement(y.Button,{stretched:!0,size:"xl",onClick:n.onCtaClick},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443"),n.ctaComponent=r.a.createElement(y.Div,null,r.a.createElement("p",null,n.ctaText),n.ctaButton),n.getPanelHeader=function(){var e=n.props.onBack;return r.a.createElement(R,{text:n.headerText,onBackButtonClick:function(){return e()}})},n.resetAll=function(){var e=n.state.popout;n.setState(Object(k.a)({},oe,{popout:e}))},n.onModelSelect=function(){var e=Object(E.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.showSpinner(),J("selected-model"),n.resetModification(),e.prev=3,e.next=6,n.setModifications(t.id);case 6:return e.next=8,F(.8);case 8:n.removeAnyPopout(),n.changePanelAndPushHistoryState("chooseModification"),n.setSelectValueAndTryToCalculateResults("model",t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),n.showNetworkErrorAlert(function(){return n.onModelSelect(t)});case 16:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}(),n.onModificationSelect=function(){var e=Object(E.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(J("selected-modification"),n.setSelectValueAndTryToCalculateResults("modification",t),n.getSelectedOldnessId()){e.next=8;break}return n.showSpinner(),e.next=6,F(.8);case 6:n.removeAnyPopout(),n.changePanelAndPushHistoryState("chooseOldness");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.state=ie;var a=n.props.id;return ie.activePanel="".concat(a,"main"),window.onpopstate=function(){return n.onPopHistoryState()},window.history.replaceState({},"","#".concat(a,"/").concat(a,"main")),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(k.a)({},ie))}},{key:"componentWillUnmount",value:function(){ie=this.state;var e=this.state,t=e.calculationResults,n=e.model,a=e.modification,r=e.oldness;window.onpopstate=window.basePopHistoryStateHandler,window.calculationResults=t,window.input={model:n,modification:a,oldness:r}}},{key:"onPopHistoryState",value:function(){var e=window.location.hash;e.includes("home")?this.viewPopStateHandler():window.basePopHistoryStateHandler()}},{key:"getModelSelectIndicator",value:function(){var e=this,t=this.state.model;return r.a.createElement(N,{text:"\u041c\u043e\u0434\u0435\u043b\u044c \u0430\u0432\u0442\u043e",value:t.text,onClick:function(){return e.changePanelAndPushHistoryState("chooseModel")}})}},{key:"getModificationSelectIndicator",value:function(){var e=this,t=this.state.modification;return r.a.createElement(N,{text:"\u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f",value:t.text,onClick:function(){return e.changePanelAndPushHistoryState("chooseModification")}})}},{key:"getOldnessSelectIndicator",value:function(){var e=this,t=this.state.oldness;return r.a.createElement(N,{text:"\u041f\u0440\u043e\u0431\u0435\u0433 \u0438\u043b\u0438 \u0433\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430",value:t.text,onClick:function(){return e.changePanelAndPushHistoryState("chooseOldness")}})}},{key:"getSelectIndicatorList",value:function(){return r.a.createElement(y.List,null,this.getModelSelectIndicator(),Boolean(this.getSelectedModelId())&&this.getModificationSelectIndicator(),this.getOldnessSelectIndicator())}},{key:"getCalculationSelectGroup",value:function(){return r.a.createElement(y.Group,null,r.a.createElement(y.Div,null,r.a.createElement(y.Button,{size:"xl",level:"outline",className:"reset-button",before:r.a.createElement(C.a,null),onClick:this.resetAll},r.a.createElement("span",null,"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435"))),r.a.createElement(y.Header,null,"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0432\u0430\u0448\u0435\u0433\u043e Nissan:"),this.getSelectIndicatorList())}},{key:"getResultWorkGroup",value:function(){var e=this.state.calculationResults;return r.a.createElement(y.Group,{title:"\u0420\u0430\u0431\u043e\u0442\u044b"},e.works.map(function(e){var t=e.name,n=e.price;return r.a.createElement(I,{text:t,value:n,key:t})}),r.a.createElement(M,{text:"\u0412\u0441\u0435\u0433\u043e \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u043c",value:this.getSummaryValue("works")}))}},{key:"getResultMaterialGroup",value:function(){var e=this.state.calculationResults;return r.a.createElement(y.Group,{title:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"},e.materials.map(function(e){var t=e.name,n=e.price;return r.a.createElement(I,{text:t,value:n,key:t})}),r.a.createElement(M,{text:"\u0412\u0441\u0435\u0433\u043e \u043f\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430\u043c",value:this.getSummaryValue("materials")}))}},{key:"getSummaryValue",value:function(e){return this.state.calculationResults[e].reduce(function(e,t){return e+t.price},0)}},{key:"getResultSummaryGroup",value:function(){return r.a.createElement(y.Group,null,r.a.createElement(M,{text:"\u0418\u0442\u043e\u0433\u043e",value:this.getSummaryValue("works")+this.getSummaryValue("materials")}))}},{key:"getCalculationResultGroups",value:function(){return r.a.createElement("div",null,"ready"===this.resultsStatus&&r.a.createElement("div",null,this.getResultWorkGroup(),this.getResultMaterialGroup(),this.getResultSummaryGroup()))}},{key:"setSelectValueAndTryToCalculateResults",value:function(e,t){this.setState(Object(w.a)({},e,function(e){return{id:e.id,text:e.value}}(t)),this.tryToCalculateResults)}},{key:"getSelectedOldnessId",value:function(){return this.state.oldness.id}},{key:"getSelectedModificationId",value:function(){return this.state.modification.id}},{key:"getSelectedModelId",value:function(){return this.state.model.id}},{key:"getCalculationResults",value:function(){if("notSelected"===this.resultsStatus)return null;if("ready"===this.resultsStatus)return this.getCalculationResultGroups();throw new Error("invalid resultsStatus")}},{key:"setModifications",value:function(){var e=Object(E.a)(d.a.mark(function e(t){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(t);case 2:n=D(n=e.sent),this.setState({modifications:n});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setCalculationResults",value:function(e){this.removeAnyPopout(),this.setState({calculationResults:Object(k.a)({status:"ready"},e)})}},{key:"removeAnyPopout",value:function(){this.setState({popout:null})}},{key:"showSpinner",value:function(){this.setState({popout:r.a.createElement(y.ScreenSpinner,null)})}},{key:"allSelected",value:function(){return this.getSelectedModelId()&&this.getSelectedModificationId()&&this.getSelectedOldnessId()}},{key:"changePanel",value:function(e){this.setState({activePanel:e})}},{key:"calculateResults",value:function(){var e=Object(E.a)(d.a.mark(function e(){var t,n,a,r,o,i=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.model,a=t.modification,r=t.oldness,this.showSpinner(),e.prev=2,e.next=5,le(n.id,a.id,r.id);case 5:o=G(o=e.sent),this.setCalculationResults(o),this.removeAnyPopout(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.showNetworkErrorAlert(function(){return i.calculateResults()});case 14:case"end":return e.stop()}},e,this,[[2,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"tryToCalculateResults",value:function(){var e=Object(E.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.allSelected()){e.next=3;break}return e.next=3,this.calculateResults();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"resetModification",value:function(){this.setState({modification:{id:0,text:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"}})}},{key:"changePanelAndPushHistoryState",value:function(e){var t;t="#home/".concat(e),window.history.pushState({},"",t),this.changePanel(e)}},{key:"viewPopStateHandler",value:function(){var e=window.location.hash,t=e.split("/",2)[1];this.changePanel(t)}},{key:"showNetworkErrorAlert",value:function(e){var t=this;this.setState({popout:r.a.createElement(ae,{onRetry:function(){t.removeAnyPopout(),e()},onCancel:function(){return t.removeAnyPopout()}})})}},{key:"render",value:function(){var e=this,t=this.props.id,n=this.state,a=n.activePanel,o=n.popout,i=n.modifications,c="".concat(t,"main");return r.a.createElement(y.View,{id:t,activePanel:a,header:!0,popout:o},r.a.createElement(y.Panel,{id:c},this.getPanelHeader(),this.getCalculationSelectGroup(),this.getCalculationResults(),this.ctaComponent),r.a.createElement(j,{id:"chooseModel",backClickHandler:function(){return ce()},header:"\u041c\u043e\u0434\u0435\u043b\u044c",items:this.models,onSelect:this.onModelSelect}),r.a.createElement(j,{id:"chooseModification",backClickHandler:function(){return ce()},header:"\u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f",items:i,onSelect:this.onModificationSelect}),r.a.createElement(j,{id:"chooseOldness",backClickHandler:function(){return ce()},header:"\u041f\u0440\u043e\u0431\u0435\u0433 \u0438\u043b\u0438 \u0433\u043e\u0434",items:this.oldnesses,onSelect:function(t){J("selected-oldness"),e.setSelectValueAndTryToCalculateResults("oldness",t)}}))}},{key:"resultsStatus",get:function(){return this.state.calculationResults.status}}]),t}(r.a.Component);function pe(e){var t=e.onChange,n=e.value,a=function(e){return t(e.replace(/[^A-Za-z\u0410-\u042fa-\u044f ]/g,"").replace(/ {2,}/," ").trimLeft())};return r.a.createElement(y.Input,{type:"text",placeholder:"\u0418\u0432\u0430\u043d",onChange:function(e){return a(e.target.value)},value:n||"",maxLength:"35"})}pe.defaultProps={value:""};var me=pe,ve=n(43);function fe(e){var t=e;return t.startsWith("+")||""===t||(t="+".concat(t)),new ve.a("RU").input(t)}function Ee(e){return e.replace(/[^0-9]/g,"")}var ye={value:"",requestedPhone:!1},we=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).state=ye,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState(ye)}},{key:"componentWillUnmount",value:function(){ye=this.state}},{key:"onChange",value:function(e){var t=e.target;this.changeValue(t.value)}},{key:"onClick",value:function(){var e=Object(E.a)(d.a.mark(function e(){var t,n,a,r,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.shouldRequestPhone,a=t.onPhoneRequest,!n){e.next=8;break}return a&&a(),e.next=5,z("VKWebAppGetPhoneNumber");case 5:r=e.sent,o=r.phone_number,this.changeValue("+".concat(o));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changeValue",value:function(e){var t=this.props.onChange;if(function(e){var t=Ee(e);return t.startsWith("375")?t.length<=12:t.length<=11}(e)){var n=fe(e);this.setState({value:n}),t(function(e){return"+".concat(Ee(e))}(e))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.placeholder,o=this.state.value;return r.a.createElement(y.Input,{type:"tel",placeholder:fe(a),onChange:function(t){return e.onChange(t)},value:o,className:n,onClick:function(t){return e.onClick(t)}})}}]),t}(r.a.Component);we.defaultProps={placeholder:"",className:"",shouldRequestPhone:!1,onPhoneRequest:function(){}};var ke=we,Se={name:"",phone:"",phoneNotValid:!1,shouldRequestPhone:!0};var Ce=function(e){function t(e){var n;Object(h.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).onPhoneRequest=function(){n.setState({shouldRequestPhone:!1})};var a=n.props.initialName;return n.state=Object(k.a)({},Se,{name:a}),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(k.a)({},Se,{shouldRequestPhone:!0}))}},{key:"componentWillUnmount",value:function(){Se=this.state}},{key:"validateAndShowErrorsAndSendForm",value:function(){var e=this.props.sendRequest,t=this.state,n=t.name,a=t.phone;!function(e){return function(e){return e.replace(/[^0-91]/g,"")}(e).length>=7}(a)?this.setState({phoneNotValid:!0}):e(n,a)}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.phoneNotValid,o=t.shouldRequestPhone;return r.a.createElement(y.Group,null,r.a.createElement(y.FormLayout,null,r.a.createElement(me,{top:"\u0418\u043c\u044f",onChange:function(t){return e.setState({name:t})},value:n}),r.a.createElement(ke,{top:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",placeholder:"+79211234567",onChange:function(t){return e.setState({phoneNotValid:!1}),e.setState({phone:t})},bottom:a?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d":"",status:a?"error":"default",shouldRequestPhone:o,onPhoneRequest:this.onPhoneRequest}),r.a.createElement(y.Button,{level:"commerce",size:"xl",onClick:function(){return e.validateAndShowErrorsAndSendForm()}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443")))}}]),t}(a.Component);Ce.defaultProps={initialName:""};var Ae=Ce;function be(e){return"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"===e?"":e}function ge(e,t,n){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(E.a)(d.a.mark(function e(t,n,a){var r,o,i,c,u,s,l,h,p,m,v;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={model:be(window.input.model.text),modification:be(window.input.modification.text),oldness:be(window.input.oldness.text)},o=r.model,i=r.modification,c=r.oldness,u={works:JSON.stringify(window.calculationResults.works),materials:JSON.stringify(window.calculationResults.materials)},s=u.works,l=u.materials,h=_?"request.php":"https://dimadk.tk/dev_request.php",e.next=5,H.a.get(h,{params:{model:o,modification:i,oldness:c,works:s,materials:l,name:t,phone:n,recaptcha_token:a}});case 5:if(p=e.sent,m=p.status,v=p.data,200!==!m){e.next=10;break}throw new Error("Network error");case 10:return e.abrupt("return",v);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var xe=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).sendRequest=function(){var e=Object(E.a)(d.a.mark(function e(t,a){var o,i,c,u,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.props.onSentRequest,n.showSpinner(),e.prev=2,e.next=5,new Promise(function(e){grecaptcha.ready(function(){grecaptcha.execute("6Le77psUAAAAAHexyG1I-8n1xj2W1pADVQHL7PFo",{action:"homepage"}).then(e)})});case 5:return i=e.sent,e.next=8,ge(t,a,i);case 8:c=e.sent,u=c.ok,s=c.error,n.removeAnyPopout(),u?(J("sent-manual-request"),o()):"too-many-requests"!==s?n.setState({error:s}):n.setState({popout:r.a.createElement(y.Alert,{onClose:n.setState({popout:null}),actions:[{title:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c",action:function(){return window.open("//vk.me/ya.service.nissan")}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",action:function(){return n.setState({popout:null})},style:"cancel"}]},r.a.createElement("p",null,"\u0412\u0430\u0448\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435 \u0437\u0430\u044f\u0432\u043a\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b. \u0415\u0441\u043b\u0438 \u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0442\u043e\u0447\u043d\u0438\u0442\u044c \u0438\u0445, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430\u043c"))}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n.showNetworkErrorAlert(function(){return n.validateAndShowErrorsAndSendForm()});case 18:case"end":return e.stop()}},e,null,[[2,15]])}));return function(t,n){return e.apply(this,arguments)}}(),n.state={popout:null},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.requestedPhone=!1}},{key:"showNetworkErrorAlert",value:function(e){var t=this;this.setState({popout:r.a.createElement(ae,{onRetry:function(){t.removeAnyPopout(),e()},onCancel:function(){return t.removeAnyPopout()}})})}},{key:"removeAnyPopout",value:function(){this.setState({popout:null})}},{key:"showSpinner",value:function(){this.setState({popout:r.a.createElement(y.ScreenSpinner,null)})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.onBack,a=e.username,o=this.state,i=o.popout,c=o.error;if(c)throw new Error(c);var u="".concat(t,"main");return r.a.createElement(y.View,{id:t,activePanel:u,header:!0,popout:i},r.a.createElement(y.Panel,{id:u},r.a.createElement(R,{onBackButtonClick:n,text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443"}),r.a.createElement(Ae,{sendRequest:this.sendRequest,initialName:a})))}}]),t}(a.Component),Re=n(39),Oe=n.n(Re);n(92);var je=function(e){function t(e){var n;Object(h.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).headerText="\u0420\u0430\u0441\u0447\u0435\u0442 \u0422\u041e Nissan \u0432 \u0421\u041f\u0431",n.onGoHome=function(){J("open-home"),(0,n.props.onGoHome)()};var a=n.props.id;return n.state={activePanel:"".concat(a,"main")},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getText",value:function(){var e,t=this.props.username;return e=t?"".concat(t,", \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435"):"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435",e+=" \u0441\u0432\u043e\u0439 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c Nissan \u0438 \u0443\u0437\u043d\u0430\u0439\u0442\u0435 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u043f\u0440\u043e\u0431\u0435\u0433\u0443 \u0438\u043b\u0438 \u0433\u043e\u0434\u0443 \u0432\u044b\u043f\u0443\u0441\u043a\u0430",r.a.createElement("p",null,e)}},{key:"getGreeting",value:function(){var e=this.props.username,t=e?"".concat("\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435",", ").concat(e,"!"):"".concat("\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435","!");return r.a.createElement("p",null,t," \u0412\u044b \u0438\u0437 \u0421\u041f\u0431 \u0438 \u0443 \u0432\u0430\u0441 Nissan?")}},{key:"render",value:function(){var e=this.props.id,t=this.state.activePanel,n="".concat(e,"main");return r.a.createElement(y.View,{id:e,activePanel:t},r.a.createElement(y.Panel,{id:n},r.a.createElement(y.PanelHeader,null,this.headerText),r.a.createElement(y.Group,null,r.a.createElement(y.Div,null,r.a.createElement("div",{className:"centerring-wrapper"},r.a.createElement("img",{src:Oe.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u042f \u0421\u0435\u0440\u0432\u0438\u0441"})),r.a.createElement("div",null,this.getGreeting(),this.getText()),r.a.createElement(y.Button,{stretched:!0,size:"xl",onClick:this.onGoHome},"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0422\u041e")))))}}]),t}(r.a.Component),Ie=n(40),Me=n.n(Ie),Ne=n(41),Ve=n.n(Ne),Te=(n(93),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).state={error:null},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e}),W.a.captureException(e,{extra:t})}},{key:"render",value:function(){var e=this.state.error,t=this.props.children;return e?r.a.createElement("div",{className:"error-wrapper"},r.a.createElement("img",{src:Ve.a,alt:"\u041e\u0448\u0438\u0431\u043a\u0430!"}),r.a.createElement("h2",null,"\u041f\u043e\u0445\u043e\u0436\u0435, \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043b\u043e\u043c\u0430\u043b\u043e\u0441\u044c"),r.a.createElement("span",null,"\u041d\u0430\u0448\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0443\u0436\u0435 \u0437\u043d\u0430\u0435\u0442 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435"),r.a.createElement("span",null,"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"),r.a.createElement("ul",{className:"error-wrapper__list"},r.a.createElement("li",{className:"error-wrapper__three-dots-text-wrapper"},"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 ",r.a.createElement(Me.a,null)," \u0432 \u043f\u0440\u0430\u0432\u043e\u043c \u0432\u0435\u0440\u0445\u043d\u0435\u043c \u0443\u0433\u043b\u0443"),r.a.createElement("li",null,"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043f\u0443\u043d\u043a\u0442 \xab\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u044d\u0448\xbb"),r.a.createElement("li",null,"\u0418\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e"," ",r.a.createElement("a",{className:"error-wrapper__link",href:"https://vk.me/ya.service.nissan",target:"_blank",rel:"noreferrer noopener"},"\u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u043c \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435")))):t}}]),t}(r.a.Component)),He=(n(94),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).onGoToPublic=function(){return J("open-vk-public"),!0},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.onBack,a="".concat(t,"main");return r.a.createElement(y.View,{id:t,activePanel:a},r.a.createElement(y.Panel,{id:a},r.a.createElement(R,{onBackButtonClick:function(){return n()},text:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e"}),r.a.createElement(y.Group,null,r.a.createElement(y.Cell,{multiline:!0},r.a.createElement("div",null,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e!"),r.a.createElement("div",null,"\u041d\u0430\u0448 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u0441 \u0412\u0430\u043c\u0438 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f.")),r.a.createElement(y.Cell,{multiline:!0},r.a.createElement("span",{className:"thank-you-view__visit-group-text"},"\u0410 \u043f\u043e\u043a\u0430 \u0437\u0430\u0439\u0434\u0438\u0442\u0435 \u0432 \u043d\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"),r.a.createElement(y.Button,{component:"a",href:"//vk.com/ya.service.nissan",target:"_blank",rel:"noopener noreferrer",onClick:this.onGoToPublic,level:"commerce",stretched:!0,size:"xl",style:{marginTop:"15px"}},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438")))))}}]),t}(r.a.Component));function Be(){return Le.apply(this,arguments)}function Le(){return(Le=Object(E.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z("VKWebAppGetUserInfo");case 2:return e.abrupt("return",e.sent.first_name);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ge(){window.history.back()}var qe=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).state={activeView:"start",username:""},window.history.replaceState({},"","#start"),n.setGlobalHistoryStateHandler(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.send("VKWebAppInit",{}),this.setOnPopStateEventHandler(),e.next=4,Be();case 4:t=e.sent,this.setUserName(t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onPopHistoryState",value:function(){var e=function(e){return e.slice(1).split("/",1)[0]}(window.location.hash);this.changeView(e)}},{key:"setOnPopStateEventHandler",value:function(){var e=this;window.onpopstate=window.basePopHistoryStateHandler||function(){return e.onPopHistoryState()}}},{key:"setGlobalHistoryStateHandler",value:function(){var e=this;window.basePopHistoryStateHandler=function(){return e.onPopHistoryState()}}},{key:"setUserName",value:function(e){this.setState({username:e})}},{key:"changeView",value:function(e){this.setState({activeView:e})}},{key:"goHome",value:function(){this.changeViewAndPushHistoryItem("home")}},{key:"goToThankYouView",value:function(){this.changeViewAndPushHistoryItem("thank-you")}},{key:"goToSendRequest",value:function(){this.changeViewAndPushHistoryItem("sendRequest")}},{key:"changeViewAndPushHistoryItem",value:function(e){var t;t="#".concat(e),window.history.pushState({},"",t),this.changeView(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.activeView;return r.a.createElement(Te,null,r.a.createElement(y.Root,{activeView:a},r.a.createElement(he,{id:"home",onCtaClick:function(){return e.goToSendRequest()},onBack:function(){return Ge()}}),r.a.createElement(xe,{id:"sendRequest",onBack:function(){return Ge()},onSentRequest:function(){return e.goToThankYouView()},username:n}),r.a.createElement(je,{id:"start",onGoHome:function(){return e.goHome()},username:n}),r.a.createElement(He,{id:"thank-you",onBack:function(){return Ge()}})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));_&&(W.a.config("https://e1f809f399e2427898e1796a4a4d8c64@sentry.io/1280607").install(),function(e,t,n){(t[n]=t[n]||[]).push(function(){try{t.yaCounter50376901=new Ya.Metrika2({id:50376901,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})}catch(e){}});var a=e.getElementsByTagName("script")[0],r=e.createElement("script"),o=function(){a.parentNode.insertBefore(r,a)};r.type="text/javascript",r.async=!0,r.src="https://mc.yandex.ru/metrika/tag.js","[object Opera]"==t.opera?e.addEventListener("DOMContentLoaded",o,!1):o()}(document,window,"yandex_metrika_callbacks2"),document.body.innerHTML+=Q);var ze,De=document.getElementById("root");u.send("VKWebAppInit",{}),ze=qe,i.a.render(r.a.createElement(c.AppContainer,null,r.a.createElement(ze,null)),De),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.8f90671f.chunk.js.map